<?php

function open_journal_schema() {
	$schema['open_journal_journal'] = array(
    'fields' => array(
      'jid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'uid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'created' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'changed' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'sid' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0
      ),
      'status_changed' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),

      'code' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      
      'title_en' => array(
        'type' => 'text',
        'size' => 'normal'
      ),
      'title_sub' => array(
        'type' => 'text',
        'size' => 'normal'
      ),
      'description_en' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'description_sub' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'subject_en' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'subject_sub' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'creator_en' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'creator_sub' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'creator_email' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'publisher_en' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'publisher_sub' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'contributor_en' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'contributor_sub' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'coverage_en' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'coverage_sub' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'right_en' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'right_sub' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      
      'address_en' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'address_sub' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'address' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      

      // Dublin core
      'dc_title' => array(
        'type' => 'text',
        'size' => 'normal'
      ),
      'dc_description' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'dc_subject' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'dc_creator' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'dc_publisher' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'dc_contributor' => array(
        'type' => 'text',
        'size' => 'big',
        'not null' => FALSE,
      ),
      'dc_date' => array(
        'type' => 'int',
        'not null' => FALSE,
      ),
      'dc_language' => array(
        'type' => 'varchar',
        'length' => 2,
        'not null' => FALSE,
      ),
      'dc_identifier' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),

      // Hidden column
      'dc_type' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'dc_format' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'dc_coverage' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'dc_right' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'reject' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'reject_reason' => array(
        'type' => 'text',
        'not null' => FALSE,
      ),
      'withdraw' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'withdraw_reason' => array(
        'type' => 'text',
        'not null' => FALSE,
      ),

      'approve_by_timer' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'approve_by_upload' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),

    ),
    'primary key' => array('jid'),
  );

  $schema['open_journal_journal_people'] = array(
    'fields' => array(
      'jid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'uid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'created' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'informal_approve_status' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'status' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 1,
      ),
      'role_list' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
    ),
  );

  $schema['open_journal_discussion'] = array(
    'fields' => array(
      'did' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'uid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'jid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'title' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'description' => array(
        'type' => 'text',
        'size' => 'big'
      ),
      'fid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'contributor_only' => array(
        'type' => 'int',
        'not null' => TRUE,
        'size' => 'tiny',
        'default' => 0
      ),
      'permanent' => array(
        'type' => 'int',
        'not null' => TRUE,
        'size' => 'tiny',
        'default' => 0
      ),
      'created' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'changed' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'auto' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
    ),
    'primary key' => array('did'),
  );

  $schema['open_journal_comment'] = array(
    'fields' => array(
      'cid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'uid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'did' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'message' => array(
        'type' => 'text',
        'size' => 'big'
      ),
      'fid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'created' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'changed' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('cid'),
  );

  $schema['open_journal_issue'] = array(
    'fields' => array(
      'iid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'title' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
        'default' => '',
      ),
      'uid' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'status' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 1,
      ),
      'volume' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
        'default' => 0,
      ),
      'number' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
        'default' => 0,
      ),
      'year' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
        'default' => '',
      ),
      'publish_date' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'access_date' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'current' => array(
        'type' => 'int',
        'length' => 1,
        'not null' => TRUE,
        'default' => 0,
      ),
      'published' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 1,
      ),
      'created' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'changed' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('iid'),
  );

  $schema['open_journal_issue_section'] = array(
    'fields' => array(
      'sid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'iid' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'title' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
        'default' => '',
      ),
      'weight' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ), 
    ),
    'primary key' => array('sid', 'iid'),
  );

  $schema['open_journal_issue_journal'] = array(
    'fields' => array(
      'jid' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'sid' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'iid' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
      'weight' => array(
        'type' => 'int',
        'not null' => TRUE,
        'default' => 0,
      ),
    ),
    'primary key' => array('jid', 'iid', 'sid'),
  );

  $schema['open_journal_state'] = array(
    'fields' => array(
      'sid' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'code' => array(
        'type' => 'varchar',
        'length' => 100,
        'not null' => TRUE,
        'default' => '', 
      ),
      'name' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
        'default' => '', 
      ),
      'description' => array(
        'type' => 'text',
        'size' => 'normal'
      ),
      'next_sid' => array(
        'type' => 'int',
        'not null' => FALSE,
        //'default' => 0,
      ),
      'parent_sid' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'actor_rid' => array(
        'type' => 'int',
        'not null' => FALSE,
        //'default' => 0,
      ),
      'is_root' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),

      'next_ssid' => array(
        'type' => 'int',
        'not null' => FALSE,
        //'default' => 0,
      ),
      'is_substate' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'timeout_auto_reminder' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'timeout_auto_approve' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'timeout_auto_reject' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'upload_auto_approve' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),

    ),
    'primary key' => array('sid'),
  );

  $schema['open_journal_journal_state'] = array(
    'fields' => array(
      'jsid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'jid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'sid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'start_date' => array(
        'type' => 'int',
        'not null' => TRUE,
      ),
      'end_date' => array(
        'type' => 'int',
        'not null' => FALSE,
      ),
    ),
    'primary key' => array('jsid'),
  );
  $schema['open_journal_template'] = array(
    'fields' => array(
      'tpid' => array(
        'type' => 'int',
        'unsigned' => FALSE,
        'not null' => FALSE,
        'default' => NULL,
      ),
      'sid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'title' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'template_title' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
      'body' => array(
        'type' => 'text',
        'size' => 'normal'
      ),
      'auto' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'reject' => array(
        'type' => 'int',
        'not null' => FALSE,
        'default' => 0,
      ),
      'name' => array(
        'type' => 'varchar',
        'length' => 100,
        'not null' => FALSE,
      ),
      'type' => array(
        'type' => 'varchar',
        'length' => 100,
        'not null' => FALSE,
      ),
      'color_code' => array(
        'type' => 'varchar',
        'length' => 100,
        'not null' => FALSE,
      ),
      'label' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => FALSE,
      ),
    ),
    'primary key' => array('tpid'),
  );

  $schema['open_journal_template_role'] = array(
    'fields' => array(
      'trid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'rid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'tpid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('trid'),

  );

  $schema['open_journal_discussion_role'] = array(
    'fields' => array(
      'dsid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'rid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'did' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('dsid'),
  );

  $schema['open_journal_discussion_file'] = array(
    'fields' => array(
      'dfid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'fid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'did' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('dfid'),
  );

  $schema['open_journal_timeout'] = array(
    'fields' => array(
      'tid' => array(
        'type' => 'serial',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'jid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'sid' => array(
        'type' => 'int',
        'unsigned' => TRUE,
        'not null' => TRUE,
      ),
      'type' => array(
        'type' => 'varchar',
        'length' => 100,
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('tid'),
  );
  return $schema;

}

/**
 * Implements hook_update_N().
 */
 /*
function open_journal_update_7002(&$sandbox) {
  $schema = drupal_get_schema_unprocessed('open_journal');
  db_create_table('open_journal_issue', $schema['open_journal_issue']);
  db_create_table('open_journal_issue_section', $schema['open_journal_issue_section']);
  db_create_table('open_journal_issue_journal', $schema['open_journal_issue_journal']);
  return 'Add the open_journal_issue, open_journal_issue_section, open_journal_issue_journal tables for the open journal module.';
}
*/
function open_journal_update_7003(&$sandbox) {

  $schema = open_journal_schema();
  db_create_table('open_journal_state', $schema['open_journal_state']);

  $data = array(
    array(
      'sid' => 0,
      'code' => 'information_review',
      'name' => 'Information review',
      'description' => 'Information review state',
      'next_sid' => 4,
      'parent_sid' => NULL,
      'is_root' => 1,
    ),
    array(
      'sid' => 4,
      'code' => 'editor_first_view',
      'name' => 'Editor first view',
      'description' => 'Editor first view state',
      'next_sid' => 5,
      'parent_sid' => NULL,
      'is_root' => 1,
    ),
    array(
      'sid' => 5,
      'code' => 'document_review',
      'name' => 'Document review',
      'description' => 'Document review state',
      'next_sid' => 1,
      'parent_sid' => NULL,
    ),
    array(
      'sid' => 1,
      'code' => 'reviewers',
      'name' => 'Reviewers',
      'description' => 'Reviewers state',
      'next_sid' => 6,
      'parent_sid' => 5,
      'is_root' => 1,
    ),
    array(
      'sid' => 6,
      'code' => 'revision',
      'name' => 'Revision',
      'description' => 'Revision state',
      'next_sid' => 7,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 7,
      'code' => 'edit_1',
      'name' => 'Edit 1',
      'description' => 'Edit 1 state',
      'next_sid' => 8,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 8,
      'code' => 'edit_2',
      'name' => 'Edit 2',
      'description' => 'Edit 2 state',
      'next_sid' => 9,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 9,
      'code' => 'editor_approval',
      'name' => 'Editor approval (MS Words)',
      'description' => 'Editor approval (MS Words) state',
      'next_sid' => 10,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 10,
      'code' => 'artwork',
      'name' => 'Artwork',
      'description' => 'Artwork state',
      'next_sid' => 11,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 11,
      'code' => 'author_check',
      'name' => 'Author check',
      'description' => 'Author check state',
      'next_sid' => 12,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 12,
      'code' => 'editor_approval_of_artwork',
      'name' => 'Editor approval of artwork',
      'description' => 'Editor approval of artwork state',
      'next_sid' => 13,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 13,
      'code' => 'proofreading',
      'name' => 'Proofreading',
      'description' => 'Proofreading state',
      'next_sid' => 2,
      'parent_sid' => 5,
    ),
    array(
      'sid' => 2,
      'code' => 'library_catalogue',
      'name' => 'Library catalogue',
      'description' => 'Library catalogue state',
      'next_sid' => 3,
      'is_root' => 1,
      'parent_sid' => NULL,
    ),
    array(
      'sid' => 3,
      'code' => 'publication',
      'name' => 'Publication',
      'description' => 'Publication state',
      'next_sid' => NULL,
      'is_root' => 1,
      'parent_sid' => NULL,
    ),
  );

    $query = db_insert('open_journal_state')->fields(array(
      'sid',
      'code',
      'name',
      'description',
      'next_sid',
      'is_root',
      'parent_sid',
      )
    );

    foreach ($data as $record) {
      $query->values($record);
    }
    $query->execute();

}
function open_journal_update_7004(&$sandbox) {

    $schema = open_journal_schema();
    db_create_table('open_journal_journal_state', $schema['open_journal_journal_state']);
}

function open_journal_update_7005(&$sandbox) {
  $schema = open_journal_schema();
  db_change_field('open_journal_journal', 'status', 'sid', $schema['open_journal_journal']['fields']['sid']);

}

function open_journal_update_7006(&$sandbox) {
  $schema = open_journal_schema();
  db_create_table('open_journal_template', $schema['open_journal_template']);
  db_create_table('open_journal_template_role', $schema['open_journal_template_role']);
}

function open_journal_update_7007(&$sandbox) {
  $schema = open_journal_schema();
  db_create_table('open_journal_discussion_role', $schema['open_journal_discussion_role']);
}

function open_journal_update_7008(&$sandbox) {

  $schema = open_journal_schema();
  db_change_field('open_journal_journal_people', 'joined', 'created', $schema['open_journal_journal_people']['fields']['created']);

  db_add_field('open_journal_journal_people', 'status', $schema['open_journal_journal_people']['fields']['status']);
  db_add_field('open_journal_journal_people', 'role_list', $schema['open_journal_journal_people']['fields']['role_list']);

}
function open_journal_update_7009(&$sandbox) {
  db_drop_primary_key('open_journal_journal_people');
  db_add_primary_key('open_journal_journal_people', array('jid', 'uid', 'status'));
}
function open_journal_update_7010(&$sandbox) {
  db_drop_primary_key('open_journal_journal_people');
}

function open_journal_update_7014(&$sandbox) {

  $data = array(
    array(
      'tpid' => 4,
      'sid' => 0,
      'title' => 'Info review 1 (ส่งไปยังผู้ upload บทความ)',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง 
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้รับบทความของท่านเรียบร้อยแล้ว
ฝ่ายจัดการวารสาร',
      'auto' => 1,
      'reject' => 0,
    ),
    array(
      'tpid' => 5,
      'sid' => 0,
      'title' => 'Info review 2 (ส่งไปยัง co-author ทั้งหมดที่กรอกในหน้า Add new article)',
      'body' => 'เรียน @receiver 

ด้วย @author ได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ โดยมีท่านเป็นผู้เขียนร่วม ทางวารสารฯ ขอให้ท่านแจ้งยืนยันหรือปฏิเสธภายใน 3 วันโดยคลิกที่ลิงค์เพื่อส่งข้อความถึงทางวารสาร และหากทางวารสารไม่ได้รับคำตอบจากท่านภายในกำหนดดังกล่าว จะขอถือว่าท่านเห็นด้วยกับการส่งบทความเพื่อรับการตีพิมพ์กับทางวารสาร
ฝ่ายจัดการวารสาร
',
      'auto' => 2,
      'reject' => 0,
    ),
    array(
      'tpid' => 6,
      'sid' => 0,
      'title' => 'Info review 3 (ส่งไปยัง ผู้ส่งบทความ)',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้
.....

โปรดดำเนินการภายใน 3 วัน หากท่านไม่สามารถดำเนินการได้ตามกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติ
เมื่อท่านปฏิบัติตามคำแนะนำแล้วเราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย
ฝ่ายจัดการวารสาร
',
      'auto' => 0,
      'reject' => 0,
    ),

    array(
      'tpid' => 7,
      'sid' => 4,
      'title' => 'Editor first 1 โดยบรรณาธิการ',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้
.....
โปรดดำเนินการภายใน 10 วัน หากท่านไม่สามารถดำเนินการได้ตามกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติ
เมื่อท่านปฏิบัติตามคำแนะนำแล้วเราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย
ฝ่ายจัดการวารสาร
',
      'auto' => 1,
      'reject' => 0,
    ),

    array(
      'tpid' => 8,
      'sid' => 4,
      'title' => 'Editor first 2 - reject โดยบรรณาธิการ',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก
.....
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก
ฝ่ายจัดการวารสาร
',
      'auto' => 0,
      'reject' => 1,
    ),

    array(
      'tpid' => 9,
      'sid' => 4,
      'title' => 'Editor first 3',
      'body' => '
@journal_id - @journal_title 

ชื่อ reviewers คือ
1………………….
2………………….
3………………….
',
      'auto' => 0,
      'reject' => 2,
    ),
    array(
      'tpid' => 10,
      'sid' => 1,
      'title' => 'Reviewers alert',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอเรียนว่าบทความของท่านกำลังได้รับการพิจารณาโดยผู้ทรงคุณวุฒิ เมื่อทางวารสารรวบรวมความเห็นจากผู้ทรงคุณวุฒิเรียบร้อยแล้ว จะแจ้งผลให้ท่านทราบในโอกาสต่อไป
ฝ่ายจัดการวารสาร
',
      'auto' => 1,
      'reject' => 0,
    ),
    array(
      'tpid' => 11,
      'sid' => 6,
      'title' => 'Revision alert 1',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ ผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้วมีความเห็นดังไฟล์ที่แนบ กรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายในไฟล์ที่แนบนี้เลยค่ะ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเพิ่มเติมด้วย โดยขอให้ส่งกลับมาภายใน 30 วัน
จึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง
ฝ่ายจัดการวารสาร
-- -- -- 
',
      'auto' => 0,
      'reject' => 0,
    ),

    array(
      'tpid' => 12,
      'sid' => 6,
      'title' => 'Revision alert 2',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง ใส่ @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่าท่านเหลือเวลาอีกเพียง 8 วันในการปรับแก้บทความ
หากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ท่านสามารถส่งข้อความขอเลื่อนกำหนดส่งไปได้อีก 15 วัน โดยท่านต้องส่งข้อความกลับมายัง สวรส. ทางระบบ e-journal ภายในวันพรุ่งนี้ เวลา 12.00 น.
ในกรณีที่ทางวารสารฯ ไม่ได้รับข้อความขอเลื่อนกำหนดจากท่านภายในวันพรุ่งนี้ เวลา 12.00 น. และ ท่านไม่ได้ส่งบทความกลับไปยัง สวรส. ภายในกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติไปยังท่านในวันถัดจากวันครบกำหนด
ฝ่ายจัดการวารสาร
Link เพื่อไปคลิกขยายเวลา :
-- -- -- 
',
      'auto' => 2,
      'reject' => 0,
    ),

    array(
      'tpid' => 13,
      'sid' => 6,
      'title' => 'Revision alert 6',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง ใส่ @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่าท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ และไม่สามารถเลื่อนกำหนดส่งได้อีกแล้ว
หากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติไปยังท่านในวันถัดจากวันครบกำหนด
ฝ่ายจัดการวารสาร
-- -- -- 
',
      'auto' => 2,
      'reject' => 0,
    ),

    array(
      'tpid' => 14,
      'sid' => 6,
      'title' => 'Revision alert 7',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก
ฝ่ายจัดการวารสาร
-- -- --
',
      'auto' => 2,
      'reject' => 0,
    ),

    array(
      'tpid' => 15,
      'sid' => 7,
      'title' => 'Edit 1 โดยรองบรรณาธิการ',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิบ้างแล้ว นั้น ผู้ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้
.....
โปรดดำเนินการภายใน 7 วัน หากท่านไม่สามารถดำเนินการได้ตามกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติ
ฝ่ายจัดการวารสาร
-- -- --
',
      'auto' => 1,
      'reject' => 0,
    ),
    array(
      'tpid' => 16,
      'sid' => 9,
      'title' => 'Editor approval',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ท่านได้ปรับแก้บทความกลับมาแล้ว นั้น
โปรดทราบว่า ขณะนี้ บรรณาธิการได้ให้ความเห็นชอบการปรับแก้บทความของท่านก่อนการจัด artwork แล้ว
ฝ่ายจัดการวารสาร
-- -- --
',
      'auto' => 1,
      'reject' => 0,
    ),
    array(
      'tpid' => 17,
      'sid' => 9,
      'title' => 'editor ให้ adjust​',
      'body' => '???????????
',
      'auto' => 0,
      'reject' => 0,
    ),
    array(
      'tpid' => 18,
      'sid' => 11,
      'title' => 'Author check 1​',
      'body' => 'เรียน @author

ตามที่ท่านได้ส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น
บัดนี้เรื่องของท่านผ่านเข้าสู่การจัด artwork เป็นที่เรียบร้อย
ขอได้โปรดตรวจสอบความถูกต้องเป็นครั้งสุดท้าย ก่อนจะเผยแพร่ผ่านทางเว็บไซต์
ท่านสามารถแก้ไขโดยทำเป็น comment มาในไฟล์ pdf  โปรด upload ไฟล์กลับมาในระบบภายใน 3 วัน หากเลยกำหนดนี้ไปแล้ว ขออนุญาตถือว่าท่านยอมรับในเนื้อหาทั้งหมด
ฝ่ายจัดการวารสาร
@discussion_add_link
 
-- -- --
',
      'auto' => 1,
      'reject' => 0,
    ),

    array(
      'tpid' => 19,
      'sid' => 11,
      'title' => 'Author check 2​',
      'body' => 'xxxxxxxxxxxxxxxxxxxx',
      'auto' => 2,
      'reject' => 0,
    ),

    array(
      'tpid' => 20,
      'sid' => 3,
      'title' => 'แจ้ง publication​',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ บทความดังกล่าวได้รับการตีพิมพ์แล้ว ท่านสามารถ download บทความนี้ได้จากลิงค์ด้านล่าง ขอขอบคุณและหวังว่าโอกาสหน้าท่านจะเสนอบทความมายังวารสารฯ อีก
บทความ: ชื่อบทความ (ตามของเดิม)
ท่านสามารถติดตามรายละเอียดเพิ่มเติมได้ที่: @information_link 
',
      'auto' => 1,
      'reject' => 0,
    ),
    array(
      'tpid' => 21,
      'sid' => 10,
      'title' => 'Edit approval 2[test]​',
      'body' => 'Edit approval 2[test]​',
      'auto' => 1,
      'reject' => 0,
    ),

  );

  $query = db_insert('open_journal_template')->fields(array(
    'sid',
    'title',
    'body',
    'auto',
    'reject'
    )
  );

  foreach ($data as $record) {
    $query->values($record);
  }
  $query->execute();
}
function open_journal_update_7015(&$sandbox) {
  $schema = open_journal_schema();
  db_create_table('open_journal_discussion_file', $schema['open_journal_discussion_file']);
}

function open_journal_update_7016(&$sandbox) {
  $data = array(
    array(
      'rid' => 8,
      'tpid' => 1,
    ),
    array(
      'rid' => 8,
      'tpid' => 3,
    ),
    array(
      'rid' => 8,
      'tpid' => 7,
    ),
    array(
      'rid' => 4,
      'tpid' => 4,
    ),
    array(
      'rid' => 3,
      'tpid' => 6,
    ),
    array(
      'rid' => 8,
      'tpid' => 7,
    ),
    array(
      'rid' => 8,
      'tpid' => 8,
    ),
    array(
      'rid' => 8,
      'tpid' => 9,
    ),
    array(
      'rid' => 8,
      'tpid' => 10,
    ),
    array(
      'rid' => 3,
      'tpid' => 11,
    ),
    array(
      'rid' => 4,
      'tpid' => 12,
    ),
    array(
      'rid' => 4,
      'tpid' => 13,
    ),
    array(
      'rid' => 8,
      'tpid' => 14,
    ),
    array(
      'rid' => 8,
      'tpid' => 18,
    ),
    array(
      'rid' => 3,
      'tpid' => 18,
    ),
    array(
      'rid' => 8,
      'tpid' => 15,
    ),
    array(
      'rid' => 8,
      'tpid' => 16,
    ),
    array(
      'rid' => 3,
      'tpid' => 17,
    ),
    array(
      'rid' => 8,
      'tpid' => 17,
    ),
    array(
      'rid' => 4,
      'tpid' => 17,
    ),
    array(
      'rid' => 6,
      'tpid' => 17,
    ),
    array(
      'rid' => 5,
      'tpid' => 17,
    ),
    array(
      'rid' => 3,
      'tpid' => 1,
    ),
    array(
      'rid' => 4,
      'tpid' => 1,
    ),
    array(
      'rid' => 6,
      'tpid' => 1,
    ),
    array(
      'rid' => 5,
      'tpid' => 1,
    ),
  );

  $query = db_insert('open_journal_template_role')->fields(array(
    'rid',
    'tpid',
    )
  );

  foreach ($data as $record) {
    $query->values($record);
  }
  $query->execute();
}

function open_journal_update_7017(&$sandbox) {

  $schema = open_journal_schema();

  db_add_field('open_journal_template', 'template_title', $schema['open_journal_template']['fields']['template_title']);

}

function open_journal_update_7018(&$sandbox) {

  $schema = open_journal_schema();

  db_add_field('open_journal_state', 'next_ssid', $schema['open_journal_state']['fields']['next_ssid']);
  db_add_field('open_journal_state', 'is_substate', $schema['open_journal_state']['fields']['is_substate']);
  db_add_field('open_journal_state', 'timeout_auto_reminder', $schema['open_journal_state']['fields']['timeout_auto_reminder']);
  db_add_field('open_journal_state', 'timeout_auto_approve', $schema['open_journal_state']['fields']['timeout_auto_approve']);
  db_add_field('open_journal_state', 'timeout_auto_reject', $schema['open_journal_state']['fields']['timeout_auto_reject']);

}

function open_journal_update_7019(&$sandbox) {

  $data = array(
    array(
      'sid' => 101,
      'code' => 'revision-1',
      'name' => 'Revision 1',
      'description' => 'Reminder 1',
      'next_sid' => 102,
      'parent_sid' => 6,
      'is_substate' => 1,
      'timeout_auto_reminder' => 23,
      'timeout_auto_approve' => 30,
      'timeout_auto_reject' => 30
    ),
    array(
      'sid' => 102,
      'code' => 'revision-2',
      'name' => 'Revision 2',
      'description' => 'Reminder 2',
      'next_sid' => NULL,
      'parent_sid' => 6,
      'is_substate' => 1,
      'timeout_auto_reminder' => 23,
      'timeout_auto_approve' => NULL,
      'timeout_auto_reject' => 30
    )
  );

  $query = db_insert('open_journal_state')->fields(array(
    'sid',
    'code',
    'name',
    'description',
    'next_sid',
    'parent_sid',
    'is_substate',
    'timeout_auto_reminder',
    'timeout_auto_approve',
    'timeout_auto_reject'
    )
  );

  foreach ($data as $record) {
    $query->values($record);
  }
  $query->execute();

}


function open_journal_update_7020(&$sandbox) {

  variable_set('devel_debug_mail_file_format', '%datetime--%to.mail.txt');

  db_update('open_journal_state')
    ->fields(array('next_ssid' => 101))
    ->condition('sid', 6)
    ->execute();

}

function open_journal_update_7021(&$sandbox) {

  $schema = open_journal_schema();

  db_add_field('open_journal_discussion', 'auto', $schema['open_journal_discussion']['fields']['auto']);

}


function open_journal_update_7022(&$sandbox) {

  db_update('open_journal_state')
    ->fields(array('next_sid' => 6))
    ->condition('sid', 102)
    ->execute();

}

function open_journal_update_7023(&$sandbox) {

  $schema = open_journal_schema();

  db_change_field('open_journal_state', 'next_sid', 'next_sid', $schema['open_journal_state']['fields']['next_sid']);
  db_change_field('open_journal_state', 'next_ssid', 'next_ssid', $schema['open_journal_state']['fields']['next_ssid']);

  db_update('open_journal_state')
    ->fields(array('next_sid' => NULL))
    ->condition('next_sid', 0)
    ->execute();

  db_update('open_journal_state')
    ->fields(array('next_ssid' => NULL))
    ->condition('next_ssid', 0)
    ->execute();
}

function open_journal_update_7024(&$sandbox) {

  $schema = open_journal_schema();

  db_add_field('open_journal_template', 'name', $schema['open_journal_template']['fields']['name']);
  db_add_field('open_journal_template', 'type', $schema['open_journal_template']['fields']['type']);

}

function open_journal_update_7025(&$sandbox) {

  $schema = open_journal_schema();

  db_change_field('open_journal_template', 'tpid', 'tpid', $schema['open_journal_template']['fields']['tpid']);
}
function open_journal_update_7026(&$sandbox) {
  db_drop_field('open_journal_template', 'auto');
  db_drop_field('open_journal_template', 'reject');
  db_truncate('open_journal_template')->execute();
  db_truncate('open_journal_template_role')->execute();
}

function open_journal_update_7027(&$sandbox) {
  $reject_author = 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก
.....
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก
ฝ่ายจัดการวารสาร';

  $reject_receiver = 'เรียน @receiver_roles
บทความเรื่อง
@journal_id  – @journal_title
ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก
.....
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก
ฝ่ายจัดการวารสาร';

  $data = array(
    array(
      'tpid' => 1,
      'sid' => 0,
      'title' => 'Info review 1 (ส่งไปยังผู้ upload บทความ)',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง 
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้รับบทความของท่านเรียบร้อยแล้ว
ฝ่ายจัดการวารสาร',
      'template_title' => 'ขอบคุณที่ส่งบทความมาที่ สวรส.',
      'name' => 'auto',
    ),
    array(
      'tpid' => 2,
      'sid' => 0,
      'title' => 'Info review 2 (ส่งไปยัง co-author ทั้งหมดที่กรอกในหน้า Add new article)',
      'body' => 'เรียน @receiver 

ด้วย @author ได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ โดยมีท่านเป็นผู้เขียนร่วม ทางวารสารฯ ขอให้ท่านแจ้งยืนยันหรือปฏิเสธภายใน 3 วันโดยคลิกที่ลิงค์เพื่อส่งข้อความถึงทางวารสาร และหากทางวารสารไม่ได้รับคำตอบจากท่านภายในกำหนดดังกล่าว จะขอถือว่าท่านเห็นด้วยกับการส่งบทความเพื่อรับการตีพิมพ์กับทางวารสาร
ฝ่ายจัดการวารสาร
',
    ),
    array(
      'tpid' => 3,
      'sid' => 0,
      'title' => 'ขอให้ author ปรับแก้',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้
.....

โปรดดำเนินการภายใน 3 วัน หากท่านไม่สามารถดำเนินการได้ตามกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติ
เมื่อท่านปฏิบัติตามคำแนะนำแล้วเราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย
ฝ่ายจัดการวารสาร
',
      'template_title' => 'ขอให้ท่านปรับแก้ไขบทความ',
      'name' => 'template',
    ),
    array(
      'tpid' => 19,
      'sid' => 0,
      'title' => '*** Info review 1.2 -> Admin',
      'body' => 'เรียน @receiver_roles
เนื่องจาก @author ได้ส่งบทความใหม่
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์
กรุณาตรวจสอบบทความ
',
      'template_title' => 'มีบทความใหม่เข้ามาใหม่',
      'name' => 'auto',
    ),
    array(
      'tpid' => 23,
      'sid' => 0,
      'title' => 'ปฏิเสธการตีพิมพ์ที่ Editor first view',
      'body' => $reject_author,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 7,
      'sid' => 1,
      'title' => 'Reviewers alert',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอเรียนว่าบทความของท่านกำลังได้รับการพิจารณาโดยผู้ทรงคุณวุฒิ เมื่อทางวารสารรวบรวมความเห็นจากผู้ทรงคุณวุฒิเรียบร้อยแล้ว จะแจ้งผลให้ท่านทราบในโอกาสต่อไป
ฝ่ายจัดการวารสาร
',
      'template_title' => 'บทความของท่านกำลังได้รับพิจารณาโดยผู้ทรงคุณวุฒิ',
      'name' => 'auto',
    ),
    array(
      'tpid' => 26,
      'sid' => 1,
      'title' => 'ขอให้ author ปรับแก้ไขบทความตามความเห็นของ reviewers',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ ผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้วมีความเห็นดังไฟล์ที่แนบ กรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายในไฟล์ที่แนบนี้เลยค่ะ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเพิ่มเติมด้วย โดยขอให้ส่งกลับมาภายใน 30 วัน
จึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง
ฝ่ายจัดการวารสาร
-- -- -- 
',
      'template_title' => 'กรุณาปรับแก้ไขบทความตามความเห็นของผู้ทรงคุณวุฒิ',
      'name' => 'approve',
      'type' => 'button',
    ),
    array(
      'tpid' => 27,
      'sid' => 1,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 42,
      'sid' => 2,
      'title' => 'มีบทความเข้าสู่สถานะ Library catalogue',
      'body' => 'เรียน @receiver_roles
ขณะนี้ บทความ @journal_id - @journal_title ได้เข้าสู่สถานะ Library catalogue แล้ว
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Library catalogue',
      'name' => 'auto',
    ),
    array(
      'tpid' => 43,
      'sid' => 2,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 17,
      'sid' => 3,
      'title' => 'ยินดีด้วย บทความของท่านได้ถูกตีพิมพ์แล้ว',
      'body' => 'เรียน @author 
ตามที่ ท่านส่งบทความมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ บทความดังกล่าวได้รับการตีพิมพ์แล้ว ท่านสามารถ download บทความนี้ได้จากลิงค์ด้านล่าง ขอขอบคุณและหวังว่าโอกาสหน้าท่านจะเสนอบทความมายังวารสารฯ อีก
บทความ: ชื่อบทความ (ตามของเดิม)
ท่านสามารถติดตามรายละเอียดเพิ่มเติมได้ที่: @information_link 
',
      'template_title' => 'ยินดีด้วย บทความของท่านได้ถูกตีพิมพ์แล้ว',
      'name' => 'auto',
    ),
    array(
      'tpid' => 44,
      'sid' => 3,
      'title' => 'มีบทความเข้าสู่สถานะ Publication',
      'body' => 'เรียน @receiver_roles
ขณะนี้ บทความ @journal_id - @journal_title ได้เข้าสู่สถานะ Publication แล้ว
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Publication',
      'name' => 'auto',
    ),
    array(
      'tpid' => 4,
      'sid' => 4,
      'title' => '',
      'body' => 'เรียน @receiver_roles
เนื่องจาก @author ได้ส่งบทความใหม่
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์
กรุณาตรวจสอบบทความ
',
      'template_title' => 'มีบทความใหม่มาให้พิจารณา',
      'name' => 'auto',
    ),
    array(
      'tpid' => 5,
      'sid' => 4,
      'title' => 'Editor first 2 - reject โดยบรรณาธิการ',
      'body' => $reject_author,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
      'type' => 'button',
    ),
    array(
      'tpid' => 6,
      'sid' => 4,
      'title' => 'ขอให้ admin เชิญ reviewers มาพิจารณาต่อ',
      'body' => '@journal_id - @journal_title 

ชื่อ reviewers คือ
1………………….
2………………….
3………………….
',
      'template_title' => 'รบกวนท่าน เรียนเชิญผู้ทรงคุณวุฒิมาพิจารณาบทความ',
      'name' => 'approve',
      'type' => 'button'
    ),
    array(
      'tpid' => 25,
      'sid' => 4,
      'title' => 'ขอให้ author ปรับแก้บทความ',
      'body' => 'เรียน @author
ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้
.....
โปรดดำเนินการภายใน 10 วัน หากท่านไม่สามารถดำเนินการได้ตามกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติ
เมื่อท่านปฏิบัติตามคำแนะนำแล้วเราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย
ฝ่ายจัดการวารสาร
-- -- --',
      'template_title' => 'ขอให้ท่านปรับแก้ไขบทความ',
      'name' => 'template',
    ),
    array(
      'tpid' => 8,
      'sid' => 6,
      'title' => 'Revision alert 1',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ ผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้วมีความเห็นดังไฟล์ที่แนบ กรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายในไฟล์ที่แนบนี้เลยค่ะ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเพิ่มเติมด้วย โดยขอให้ส่งกลับมาภายใน 30 วัน
จึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง
ฝ่ายจัดการวารสาร
-- -- -- 
',
      'template_title' => 'กรุณาปรับแก้ไขบทความตามความเห็นของผู้ทรงคุณวุฒิ',
      'name' => 'template',
    ),
    array(
      'tpid' => 9,
      'sid' => 6,
      'title' => 'Revision alert 2',
      'body' => 'เรียน @author

ตามที่ ท่านส่งบทความเรื่อง ใส่ @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่าท่านเหลือเวลาอีกเพียง 8 วันในการปรับแก้บทความ
หากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ท่านสามารถส่งข้อความขอเลื่อนกำหนดส่งไปได้อีก 15 วัน โดยท่านต้องส่งข้อความกลับมายัง สวรส. ทางระบบ e-journal ภายในวันพรุ่งนี้ เวลา 12.00 น.
ในกรณีที่ทางวารสารฯ ไม่ได้รับข้อความขอเลื่อนกำหนดจากท่านภายในวันพรุ่งนี้ เวลา 12.00 น. และ ท่านไม่ได้ส่งบทความกลับไปยัง สวรส. ภายในกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติไปยังท่านในวันถัดจากวันครบกำหนด
ฝ่ายจัดการวารสาร
Link เพื่อไปคลิกขยายเวลา :
-- -- -- 
',
      'template_title' => '',
      'name' => 'time',
    ),
    array(
      'tpid' => 10,
      'sid' => 6,
      'title' => 'Revision alert 6',
      'body' => 'เรียน @author 
ตามที่ ท่านส่งบทความเรื่อง ใส่ @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่าท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ และไม่สามารถเลื่อนกำหนดส่งได้อีกแล้ว
หากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติไปยังท่านในวันถัดจากวันครบกำหนด
ฝ่ายจัดการวารสาร
-- -- -- 
',
      'template_title' => '',
      'name' => 'time',
    ),
    array(
      'tpid' => 11,
      'sid' => 6,
      'title' => 'Revision alert 7',
      'body' => 'เรียน @author 
ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก
ฝ่ายจัดการวารสาร
-- -- --
',
      'template_title' => '',
      'name' => 'time',
    ),
    array(
      'tpid' => 28,
      'sid' => 6,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 12,
      'sid' => 7,
      'title' => 'Edit 1 โดยรองบรรณาธิการ',
      'body' => 'เรียน @receiver_roles 
ผู้ส่งบทความได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิและส่งกลับมาแล้ว
',
      'template_title' => 'ผู้ส่งบทความได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิและส่งกลับมาแล้ว',
      'name' => 'auto',
    ),
    array(
      'tpid' => 29,
      'sid' => 7,
      'title' => 'ขอให้ author พิจารณาปรับแก้',
      'body' => 'เรียน @author
ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิบ้างแล้ว นั้น ผู้ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้
.....
โปรดดำเนินการภายใน 7 วัน หากท่านไม่สามารถดำเนินการได้ตามกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติ
ฝ่ายจัดการวารสาร
-- -- --',
      'template_title' => 'ขอให้ท่านผู้ส่งบทความพิจารณาปรับแก้เพิ่มเติม',
      'name' => 'template',
    ),
    array(
      'tpid' => 30,
      'sid' => 7,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 31,
      'sid' => 8,
      'title' => 'มีบทความเข้าสู่สถานะ Edit 2 (การชำระนิพนธ์ต้นฉบับ)',
      'body' => 'เรียน @receiver_roles
ขณะนี้ บทความ @journal_id - @journal_title ได้เข้าสู่สถานะ Edit 2 (การชำระนิพนธ์ต้นฉบับ) แล้ว
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Edit 2 (การชำระนิพนธ์ต้นฉบับ)',
      'name' => 'auto',
    ),
    array(
      'tpid' => 32,
      'sid' => 8,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 14,
      'sid' => 9,
      'title' => 'ขอให้ author แก้ไขบทความ (adjust)',
      'body' => 'เรียน @author
ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิบ้างแล้ว นั้น ผู้ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้
.....',
      'template_title' => 'รบกวนท่าน แก้ไขปรับปรุงบทความของท่าน',
      'name' => 'template',
    ),
    array(
      'tpid' => 33,
      'sid' => 9,
      'title' => 'มีบทความเข้าสู่สถานะ Editor approval',
      'body' => 'เรียน @receiver_roles
ขณะนี้ บทความ @journal_id - @journal_title ได้เข้าสู่สถานะ Editor approval แล้ว
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Editor approval',
      'name' => 'auto',
    ),
    array(
      'tpid' => 34,
      'sid' => 9,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 35,
      'sid' => 9,
      'title' => 'บรรณาธิการได้ให้ความเห็นชอบกับบทความของท่านแล้ว',
      'body' => 'เรียน @author
ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
 มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ท่านได้ปรับแก้บทความกลับมาแล้ว นั้น
โปรดทราบว่า ขณะนี้ บรรณาธิการได้ให้ความเห็นชอบการปรับแก้บทความของท่านก่อนการจัด artwork แล้ว
ฝ่ายจัดการวารสาร
-- -- --',
      'template_title' => 'บรรณาธิการได้ให้ความเห็นชอบกับบทความของท่านแล้ว',
      'name' => 'approve',
    ),
    array(
      'tpid' => 18,
      'sid' => 10,
      'title' => 'มีบทความเข้าสู่สถานะ Artwork',
      'body' => 'เรียน @receiver_roles
ขณะนี้ บทความ @journal_id - @journal_title ได้เข้าสู่สถานะ Artwork แล้ว
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Artwork',
      'name' => 'auto',
    ),
    array(
      'tpid' => 36,
      'sid' => 10, 
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 15, 
      'sid' => 11,
      'title' => 'บทความของท่านผ่านเข้าสู่การจัด Artwork แล้ว รบกวนตรวจสอบความถูกต้อง',
      'body' => 'เรียน @author

ตามที่ท่านได้ส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น
บัดนี้เรื่องของท่านผ่านเข้าสู่การจัด artwork เป็นที่เรียบร้อย
ขอได้โปรดตรวจสอบความถูกต้องเป็นครั้งสุดท้าย ก่อนจะเผยแพร่ผ่านทางเว็บไซต์
ท่านสามารถแก้ไขโดยทำเป็น comment มาในไฟล์ pdf  โปรด upload ไฟล์กลับมาในระบบภายใน 3 วัน หากเลยกำหนดนี้ไปแล้ว ขออนุญาตถือว่าท่านยอมรับในเนื้อหาทั้งหมด
ฝ่ายจัดการวารสาร
@discussion_add_link :
 
-- -- --
',
      'template_title' => 'บทความของท่านผ่านเข้าสู่การจัด Artwork แล้ว รบกวนตรวจสอบความถูกต้อง',
      'name' => 'auto',
    ),
    array(
      'tpid' => 16,
      'sid' => 11,
      'title' => 'Author check 2​',
      'body' => '',
      'template_title' => '',
      'name' => 'time',
    ),
    array(
      'tpid' => 37,
      'sid' => 11,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 38,
      'sid' => 12,
      'title' => 'มีบทความเข้าสู่สถานะ Editor approval of artwork',
      'body' => 'เรียน @receiver_roles
ขณะนี้บทความ @journal_id - @journal_title เข้าสู่สถานะ Editor approval of artwork 
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Editor approval of artwork',
      'name' => 'auto',
    ),
    array(
      'tpid' => 39,
      'sid' => 12,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => 'reject',
    ),
    array(
      'tpid' => 40,
      'sid' => 13,
      'title' => 'มีบทความเข้าสู่สถานะ Proofreading',
      'body' => 'เรียน @receiver_roles
ขณะนี้บทความ @journal_id - @journal_title เข้าสู่สถานะ Proofreading 
กรุณาตรวจสอบบทความ',
      'template_title' => 'มีบทความเข้าสู่สถานะ Proofreading',
      'name' => 'auto',
    ),
    array(
      'tpid' => 41,
      'sid' => 13,
      'title' => 'ขอปฏิเสธการตีพิมพ์',
      'body' => $reject_receiver,
      'template_title' => 'ขอปฏิเสธการตีพิมพ์',
      'name' => '',
    ),
  );

  $query = db_insert('open_journal_template')->fields(array(
    'tpid',
    'sid',
    'title',
    'body',
    'template_title',
    'name',
    'type',
    )
  );

  foreach ($data as $record) {
    $query->values($record);
  }
  $query->execute();

}

function open_journal_update_7028(&$sandbox) {
  $data = array(
    array(
      'rid' => 8,
      'tpid' => 1,
    ),
    array(
      'rid' => 8,
      'tpid' => 3,
    ),
    array(
      'rid' => 4,
      'tpid' => 4,
    ),
    array(
      'rid' => 8,
      'tpid' => 5,
    ),
    array(
      'rid' => 3,
      'tpid' => 6,
    ),
    array(
      'rid' => 8,
      'tpid' => 7,
    ),
    array(
      'rid' => 8,
      'tpid' => 8,
    ),
    array(
      'rid' => 8,
      'tpid' => 9,
    ),
    array(
      'rid' => 8,
      'tpid' => 10,
    ),
    array(
      'rid' => 3,
      'tpid' => 11,
    ),
    array(
      'rid' => 4,
      'tpid' => 12,
    ),
    array(
      'rid' => 8,
      'tpid' => 14,
    ),
    array(
      'rid' => 8,
      'tpid' => 15,
    ),
    array(
      'rid' => 8,
      'tpid' => 16,
    ),
    array(
      'rid' => 8,
      'tpid' => 17,
    ),
    array(
      'rid' => 3,
      'tpid' => 18,
    ),
    array(
      'rid' => 3,
      'tpid' => 19,
    ),
    array(
      'rid' => 8,
      'tpid' => 23,
    ),
    array(
      'rid' => 8,
      'tpid' => 25,
    ),
    array(
      'rid' => 8,
      'tpid' => 26,
    ),
    array(
      'rid' => 8,
      'tpid' => 27,
    ),
    array(
      'rid' => 3,
      'tpid' => 27,
    ),
    array(
      'rid' => 4,
      'tpid' => 27,
    ),
    array(
      'rid' => 8,
      'tpid' => 28,
    ),
    array(
      'rid' => 4,
      'tpid' => 28,
    ),
    array(
      'rid' => 3,
      'tpid' => 28,
    ),
    array(
      'rid' => 8,
      'tpid' => 29,
    ),
    array(
      'rid' => 3,
      'tpid' => 30,
    ),
    array(
      'rid' => 4,
      'tpid' => 30,
    ),
    array(
      'rid' => 8,
      'tpid' => 30,
    ),
    array(
      'rid' => 3,
      'tpid' => 31,
    ),
    array(
      'rid' => 3,
      'tpid' => 32,
    ),
    array(
      'rid' => 4,
      'tpid' => 32,
    ),
    array(
      'rid' => 8,
      'tpid' => 32,
    ),
    array(
      'rid' => 4,
      'tpid' => 33,
    ),
    array(
      'rid' => 3,
      'tpid' => 34,
    ),
    array(
      'rid' => 4,
      'tpid' => 34,
    ),
    array(
      'rid' => 8,
      'tpid' => 34,
    ),
    array(
      'rid' => 8,
      'tpid' => 35,
    ),
    array(
      'rid' => 3,
      'tpid' => 36,
    ),
    array(
      'rid' => 4,
      'tpid' => 36,
    ),
    array(
      'rid' => 8,
      'tpid' => 36,
    ),
    array(
      'rid' => 3,
      'tpid' => 37,
    ),
    array(
      'rid' => 4,
      'tpid' => 37,
    ),
    array(
      'rid' => 8,
      'tpid' => 37,
    ),
    array(
      'rid' => 4,
      'tpid' => 38,
    ),
    array(
      'rid' => 3,
      'tpid' => 39,
    ),
    array(
      'rid' => 4,
      'tpid' => 39,
    ),
    array(
      'rid' => 8,
      'tpid' => 39,
    ),
    array(
      'rid' => 3,
      'tpid' => 40, 
    ),
    array(
      'rid' => 3,
      'tpid' => 41,
    ),
    array(
      'rid' => 4,
      'tpid' => 41,
    ),
    array(
      'rid' => 8,
      'tpid' => 41,
    ),
    array(
      'rid' => 6,
      'tpid' => 42,
    ),
    array(
      'rid' => 3,
      'tpid' => 43,
    ),
    array(
      'rid' => 4,
      'tpid' => 43,
    ),
    array(
      'rid' => 8,
      'tpid' => 43,
    ),
    array(
      'rid' => 6,
      'tpid' => 43,
    ),
    array(
      'rid' => 3,
      'tpid' => 44,
    ),
    array(
      'rid' => 4,
      'tpid' => 44,
    ),
  );
  $query = db_insert('open_journal_template_role')->fields(array(
    'rid',
    'tpid',
    )
  );

  foreach ($data as $record) {
    $query->values($record);
  }
  $query->execute();
}

function open_journal_update_7029(&$sandbox) {

  $schema = open_journal_schema();
  db_add_field('open_journal_state', 'upload_auto_approve', $schema['open_journal_state']['fields']['upload_auto_approve']);

  db_update('open_journal_state')
  ->fields(array('upload_auto_approve' => 1))
  ->condition('sid', array(6, 101, 102), 'IN')
  ->execute();

}

function open_journal_update_7030(&$sandbox) {
  
  //
  db_update('open_journal_template')
    ->fields(array('sid' => 101, 'template_title' => 'ท่านเหลือเวลาอีก 8 วันในการปรับแก้บทความ'))
    ->condition('tpid', 9)
    ->execute();

  db_update('open_journal_template')
    ->fields(array('sid' => 102, 'template_title' => 'ท่านเหลือเวลาอีก 7 วันในการปรับแก้บทความ'))
    ->condition('tpid', 10)
    ->execute();
  
  db_update('open_journal_template')
    ->fields(array('sid' => 101, 'name' => 'reject', 'title' => 'Revision alert 5', 'template_title' => 'ขอปฏิเสธการตีพิมพ์บทความของท่าน'))
    ->condition('tpid', 11)
    ->execute();

  $data = array(
      'tpid' => 200,
      'sid' => 102,
      'title' => 'Revision alert 7',
      'name' => 'reject',
      'template_title' => 'ขอปฏิเสธการตีพิมพ์บทความของท่าน',
      'body' => 'เรียน @author 

ตามที่ ท่านส่งบทความเรื่อง @journal_id - @journal_title มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก
ฝ่ายจัดการวารสาร
-- -- --
' );

  db_insert('open_journal_template')
    ->fields($data)
    ->execute();

}

function open_journal_update_7031(&$sandbox) {
  db_update('open_journal_template_role')
    ->fields(array('rid' => 8))
    ->condition('tpid', 11)
    ->execute();

  db_insert('open_journal_template_role')
    ->fields(array('rid' => 8, 'tpid' => 200))
    ->execute();
}


function open_journal_update_7032(&$sandbox) {
  $schema = open_journal_schema();
  db_create_table('open_journal_timeout', $schema['open_journal_timeout']);
}

function open_journal_update_7033(&$sandbox) {
  $schema = open_journal_schema();
  db_add_field('open_journal_journal', 'approve_by_timer', $schema['open_journal_journal']['fields']['approve_by_timer']);
}

function open_journal_update_7034(&$sandbox) {
    $sql = "SELECT * FROM open_journal_template WHERE body LIKE('%-- -- --%')";
    $result = db_query($sql);
    $result = $result->fetchAll();

    foreach ($result as $key => $value) {
      $new_body = str_replace('-- -- --', '', $value->body);
      db_update('open_journal_template')
      ->fields(array('body' => $new_body))
      ->condition('tpid', $value->tpid)
      ->execute();
    }
}

function open_journal_update_7035(&$sandbox) {
    $sql = "SELECT * FROM open_journal_template WHERE body LIKE('%@discussion_add_link :%')";
    $result = db_query($sql);
    $result = $result->fetchAll();

    foreach ($result as $key => $value) {
      $new_body = str_replace('@discussion_add_link :', '@discussion_add_link', $value->body);
      db_update('open_journal_template')
      ->fields(array('body' => $new_body))
      ->condition('tpid', $value->tpid)
      ->execute();
    }
}

function open_journal_update_7036(&$sandbox) {
  $sql = "SELECT * FROM open_journal_template WHERE title = 'Revision alert 2'";
  $result = db_query($sql);
  $result = $result->fetchAll();

  foreach ($result as $key => $value) {
    $new_body = str_replace('Link เพื่อไปคลิกขยายเวลา :', 'Link เพื่อไปคลิกขยายเวลา : @approve_by_timer_link', $value->body);
    db_update('open_journal_template')
    ->fields(array('body' => $new_body))
    ->condition('tpid', $value->tpid)
    ->execute();
  }
}

function open_journal_update_7037(&$sandbox) {
  $schema = open_journal_schema();
  db_add_field('open_journal_state', 'approve_by_upload', $schema['open_journal_journal']['fields']['approve_by_upload']);
  db_update('open_journal_state')
    ->fields(array('approve_by_upload' => 1))
    ->condition('sid', array(101, 102), 'IN')
    ->execute();

}

function open_journal_update_7038(&$sandbox) {
  db_query("UPDATE {open_journal_journal_people} jp LEFT JOIN (SELECT ur.uid uid, GROUP_CONCAT(r.name SEPARATOR ', ') role_list FROM {users_roles} ur, role r WHERE ur.rid = r.rid GROUP BY ur.uid) rl ON jp.uid = rl.uid SET jp.role_list = rl.role_list WHERE jp.role_list IS NULL");
}

function open_journal_update_7039(&$sandbox) {
  $schema = open_journal_schema();
  
  db_add_field('open_journal_journal', 'code', $schema['open_journal_journal']['fields']['code']);
  db_add_field('open_journal_journal', 'withdraw', $schema['open_journal_journal']['fields']['withdraw']);
  db_add_field('open_journal_journal', 'withdraw_reason', $schema['open_journal_journal']['fields']['withdraw_reason']);

}

function open_journal_update_7040(&$sandbox) {
  $schema = open_journal_schema();
  
  db_add_field('open_journal_journal', 'creator_email', $schema['open_journal_journal']['fields']['creator_email']);
}

function open_journal_update_7041(&$sandbox) {
  db_query("DELETE rp FROM {role_permission} rp INNER JOIN {role} r ON rp.rid = r.rid  WHERE r.name = 'editor' AND rp.permission IN ('auto active when create journal', 'invite people to journal')");
  
  db_query("INSERT INTO {role_permission} VALUES(4, 'can not view authors data', 'open_journal')");

}

function open_journal_update_7042(&$sandbox) {
  db_update('open_journal_template')
  ->fields(array('name' => 'reject'))
  ->condition('tpid', 47)
  ->execute();

  db_update('open_journal_template')
  ->fields(array('name' => 'auto', 'template_title' => 'แจ้งว่ามีท่านเป็นผู้เขียนร่วมในวารสารฯ'))
  ->condition('tpid', 2)
  ->execute();

  db_insert('open_journal_template_role')->fields(array('tpid' => 2, 'rid' => 1))->execute();
}

function open_journal_update_7043(&$sandbox) {
  db_query("UPDATE {open_journal_template} SET body = REPLACE(body, 'reciever', 'receiver')");
  db_query("UPDATE {open_journal_template} SET body = REPLACE(body, 'reciver', 'receiver')");
}

function open_journal_update_7044(&$sandbox) {
  db_query("UPDATE {open_journal_template} SET body = REPLACE(body, 'คลิกที่ลิงค์เพื่อส่งข้อความถึง', 'ติดต่อกลับมา')");
}

function open_journal_update_7045(&$sandbox) {

  $schema = open_journal_schema();

  db_add_field('open_journal_template', 'color_code', $schema['open_journal_template']['fields']['color_code']);

}

function open_journal_update_7046(&$sandbox) {

  $schema = open_journal_schema();

  db_add_field('open_journal_template', 'label', $schema['open_journal_template']['fields']['label']);
  db_add_field('open_journal_state', 'actor_rid', $schema['open_journal_state']['fields']['actor_rid']);
  db_drop_field('open_journal_state', 'approve_by_upload');

}

function open_journal_update_7047(&$sandbox) {

  $new = 'AED6F1';
  $lost = 'F0E67A';

  // ===========================================================================
  // Information review
  // ===========================================================================

  $t[1] = array(
    'label' => 'Info review 1',
    'title' => '',
    'body' => 'เรียน ผู้เขียน 

ตามที่ท่านได้ส่งบทความเรื่อง 
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้รับบทความของท่านเรียบร้อยแล้ว

วารสารวิจัยระบบสาธารณสุข'
  );

  $t[2] = array(
    'label' => 'Info review 2',
    'title' => '',
    'body' => 'เรียน @receiver 

ด้วย @author_name ได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ โดยมีท่านเป็นผู้เขียนร่วม ทางวารสารฯ ขอให้ท่านแจ้งยืนยันหรือปฏิเสธภายใน 3 วันโดยติดต่อกลับมาทางวารสาร และหากทางวารสารไม่ได้รับคำตอบจากท่านภายในกำหนดดังกล่าว จะขอถือว่าท่านเห็นด้วยกับการส่งบทความเพื่อเสนอตีพิมพ์กับทางวารสารฯ

วารสารวิจัยระบบสาธารณสุข'
  );

  $t[3] = array(
    'label' => 'Info review 3',
    'title' => 'ขอให้ผู้เขียนปรับแก้บทความ',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้

..... โปรดระบุ .....

โปรดดำเนินการภายใน 3 วัน
เมื่อท่านปฏิบัติตามคำแนะนำแล้ว เราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข'
  );

  $t[19] = array(
    'label' => 'Info review 4',
    'title' => '',
    'body' => 'เรียน ฝ่ายจัดการวารสาร

เนื่องจาก ผู้เขียน ได้ส่งบทความใหม่เรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ รบกวนกรุณาตรวจสอบบทความด้วย กรุณาคลิก link ด้านล่างเพื่อดำเนินตามขั้นตอนถัดไป

ผู้เขียน',
    'color_code' => $new
  );

  $t[23] = array(
    'label' => 'Info review 5',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน 

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Editor first view
  // ===========================================================================

  $t[4] = array(
    'label' => 'Editor first 1',
    'title' => '',
    'body' => 'เรียน บรรณาธิการ

@journal_id - @journal_title 
เปลี่ยนสถานะ จาก information review เป็น editor first view แล้ว 
กรุณาคลิก link ด้านล่าง ไปยังหน้าต่อไป เพื่อเลือกว่าจะตอบรับพิจารณาความเหมาะสมของบทความนี้ 
- กดที่ปุ่ม approve เพื่อยืนยันความเหมาะสม
- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข'
  );

  $t[5] = array(
    'label' => 'Editor first 2',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

วารสารวิจัยระบบสาธารณสุข'
  );
  $t[6] = array(
    'label' => 'Editor first 3',
    'title' => '',
    'body' => 'เรียน ฝ่ายจัดการวารสาร
@journal_id - @journal_title
ชื่อ reviewers คือ 
1………โปรดระบุ………….
2………โปรดระบุ………….
3………โปรดระบุ………….

กรุณาคลิก link ด้านล่าง แล้วเข้าไปทีเมนู people เพื่อเลือก reviewer (ในกรณีที่มีอยู่แล้ว) หรือ สร้าง reviewer ใหม่ โดยกดที่ปุ่ม Add new reviewer (ในกรณีที่ยังไม่เคยมี)

บรรณาธิการ'
  );
  $t[25] = array(
    'label' => 'Editor first 4',
    'title' => 'ขอให้ผู้เขียนปรับแก้บทความ',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้

..... โปรดระบุ .....

โปรดดำเนินการภายใน 10 วัน
เมื่อท่านปฏิบัติตามคำแนะนำแล้ว เราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $lost
  );


  // ===========================================================================
  // Document review → Reviewers
  // ===========================================================================

  $t[7] = array(
    'label' => 'Reviewers alert',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯขอเรียนว่าบทความของท่านกำลังได้รับการพิจารณาโดยผู้ทรงคุณวุฒิ เมื่อทางวารสารฯรวบรวมความเห็นจากผู้ทรงคุณวุฒิเรียบร้อยแล้ว จะแจ้งผลให้ท่านทราบในโอกาสต่อไป

วารสารวิจัยระบบสาธารณสุข'
  );

  $t[26] = array(
    'label' => 'Reviewers alert 2',
    'title' => 'ขอให้ผู้เขียนปรับแก้บทความตามความเห็นของผู้ทรงคุณวุฒิ',
    'body' => 'เรียน ผู้เขียน

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ ผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้วมีความเห็นดังไฟล์ที่แนบ กรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายในไฟล์ที่แนบนี้เลยค่ะ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเพิ่มเติมด้วย โดยขอให้ส่งกลับมาภายใน 30 วัน
จึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $lost
  );

  $t[27] = array(
    'label' => 'Reviewers alert 3',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน 

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Revision
  // ===========================================================================

  $t[8] = array(
    'label' => 'Revision alert 1',
    'title' => 'ขอให้ผู้เขียนปรับแก้บทความตามความเห็นของผู้ทรงคุณวุฒิ',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์นั้น บัดนี้ คณะผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้ว โดยมีความเห็นดังไฟล์ที่แนบ 
กรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายจากข้อความในไฟล์ MS Words ที่แนบนี้ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเขียนเพิ่มเติมด้วย โดยขอให้ส่งกลับมาทางระบบ e-journal ภายใน 30 วัน โดยนับวันที่ของข้อความนี้เป็นวันที่ 0
จึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง 

วารสารวิจัยระบบสาธารณสุข'
  );

  $t[28] = array(
    'label' => 'Reviewers alert 8',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน 

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  // ===========================================================================
  // Revision → Revision 1
  // ===========================================================================

  $t[9] = array(
    'label' => 'Revision alert 2',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์และทางวารสารฯได้แจ้งผลการพิจารณาบทความไปแล้วนั้น 
โปรดทราบว่าท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ
หากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ท่านสามารถส่งข้อความขอเลื่อนกำหนดส่งไปได้อีก 30 วัน โดยท่านต้องคลิกที่ link ด้านล่างนี้เพื่อทำการขยายเวลา
Link เพื่อไปคลิกขยายเวลา : @approve_by_timer_link

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'template_title' => 'ท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ',
  );

  $t[11] = array(
    'label' => 'Revision alert 5',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน 

ตามที่ ท่านส่งบทความเรื่อง 
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  // ===========================================================================
  // Revision → Revision 2
  // ===========================================================================

  $t[10] = array(
    'label' => 'Revision alert 6',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์และทางวารสารฯได้แจ้งผลการพิจารณาบทความไปแล้วนั้น 
โปรดทราบว่าท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ และไม่สามารถเลื่อนกำหนดส่งได้อีกแล้ว
หากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติไปยังท่านในวันถัดจากวันครบกำหนด

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $lost
  );

  $t[200] = array(
    'label' => 'Revision alert 7',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน 

ตามที่ ท่านส่งบทความเรื่อง 
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น
โปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย
ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Edit 1
  // ===========================================================================

  /*
  TODO:
  Edit 1
เรียน ผู้เขียน
ตามที่ท่านได้ส่งบทความเรื่อง
ใส่ ID – ชื่อบทความ 
ทางวารสารวิจัยระบบสาธารณสุขได้รับบทความที่ท่านแก้ไขตามความเห็นของคณะผู้ทรงคุณวุฒิกลับมาแล้ว ผู้ทรงคุณวุฒิจะตรวจบทความที่แก้ไขแล้วนี้ หากยังต้องมีการปรับแก้เพิ่มเติม ทางวารสารฯจะแจ้งให้ท่านทราบในโอกาสต่อไป
วารสารวิจัยระบบสาธารณสุข
*/

  $t[12] = array(
    'label' => 'Edit 3',
    'title' => '',
    'body' => 'เรียน บรรณาธิการ

@journal_id - @journal_title
เปลี่ยนสถานะ จาก document review · revision เป็น document review · edit 1 แล้ว 
ผู้ส่งบทความได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิและส่งกลับมาแล้ว
กรุณาคลิก link ด้านล่างสุด ไปยังหน้าต่อไป เพื่อพิจารณาความถูกต้องของบทความนี้ 
- กดที่ปุ่ม approve เพื่อยืนยันความถูกต้อง
- หากต้องการขอให้ผู้เขียนพิจารณาปรับแก้เพิ่มเติม ให้สร้างห้องสนทนาใหม่โดยกดที่ปุ่ม start new discussion แล้ว select template เป็น "ขอให้ผู้เขียนพิจารณาปรับแก้เพิ่มเติม" หลังจากนั้นระบุสิ่งที่อยากให้ปรับแก้ลงในกล่องข้อความ details ในส่วนของ ..... โปรดระบุ .....
- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  $t[29] = array(
    'label' => 'Edit 2',
    'title' => 'ขอให้ผู้เขียนพิจารณาปรับแก้เพิ่มเติม',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นของผู้ทรงคุณวุฒิไปบ้างแล้วนั้น ผู้ทรงคุณวุฒิที่ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้

..... โปรดระบุ .....

โปรดดำเนินการแก้ไขแล้วส่งกลับมาทางระบบ e-journal ภายใน 7 วัน

วารสารวิจัยระบบสาธารณสุข'
  );

  $t[30] = array(
    'label' => 'Edit 4',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

วารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Edit 2
  // ===========================================================================

  $t[31] = array(
    'label' => 'Edit 5',
    'title' => '',
    'body' => 'เรียน ฝ่ายจัดการวารสาร

ขณะนี้ บทความเรื่อง 
@journal_id - @journal_title 
ได้เข้าสู่สถานะ Edit 2 (การชำระนิพนธ์ต้นฉบับ) แล้ว รบกวนกรุณาตรวจสอบบทความด้วย 
กรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป

บรรณาธิการ',
    'color_code' => $new
  );
    $t[32] = array(
    'label' => 'Edit 6',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

วารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Editor approval (MS Words)
  // ===========================================================================

  $t[33] = array(
    'label' => 'Editor approval 1',
    'title' => '',
    'body' => 'เรียน บรรณาธิการ

ขณะนี้ บทความเรื่อง
@journal_id - @journal_title 
ได้เข้าสู่สถานะ Editor approval (MS Words) แล้ว
กรุณาคลิก link ด้านล่างสุด ไปยังหน้าต่อไป เพื่อพิจารณาความถูกต้องของบทความนี้ 
- กดที่ปุ่ม approve เพื่อยืนยันความถูกต้อง
- หากต้องการขอให้ผู้เขียนให้ผู้เขียนปรับปรุง หรือทำส่วนใดให้ชัดเจนขึ้น (adjust) ให้สร้างห้องสนทนาใหม่โดยกดที่ปุ่ม start new discussion แล้ว select template เป็น "ขอให้ผู้เขียนปรับปรุง หรือทำส่วนใดให้ชัดเจนขึ้น (adjust)" หลังจากนั้นระบุสิ่งที่อยากให้ปรับแก้ลงในกล่องข้อความ details ในส่วนของ ..... โปรดระบุ .....
- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
  );

  $t[14] = array(
    'label' => 'Editor approval 3',
    'title' => 'ขอให้ผู้เขียนปรับปรุง หรือทำส่วนใดให้ชัดเจนขึ้น (adjust)',
    'body' => 'เรียน ผู้เขียน

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิบ้างแล้ว นั้น ผู้ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้

..... โปรดระบุ .....

โปรดดำเนินการแก้ไขแล้วส่งกลับมาทางระบบ e-journal ภายใน 7 วัน

วารสารวิจัยระบบสาธารณสุข',
    'color_code' => $lost
  );

  $t[35] = array(
    'label' => 'Editor approval 2',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ ท่านส่งบทความเรื่อง
@journal_id - @journal_title
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ และท่านได้ปรับแก้บทความกลับมาแล้ว นั้น
โปรดทราบว่า ขณะนี้ บรรณาธิการได้ให้ความเห็นชอบการปรับแก้บทความของท่านก่อนการจัด artwork แล้ว 

วารสารวิจัยระบบสาธารณสุข'
  );
  
  $t[34] = array(
    'label' => 'Editor approval 4',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

วารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Artwork
  // ===========================================================================

  $t[18] = array(
    'label' => 'Artwork 1',
    'title' => '',
    'body' => 'เรียน ฝ่ายจัดการวารสาร

ขณะนี้ บทความเรื่อง 
@journal_id - @journal_title 
ได้เข้าสู่สถานะ Artwork แล้ว รบกวนกรุณาตรวจสอบบทความด้วย 
กรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป

บรรณาธิการ',
    'color_code' => $lost
  );

  $t[36] = array(
    'label' => 'Artwork 2',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  
  // ===========================================================================
  // Document review → Author check
  // ===========================================================================

  $t[15] = array(
    'label' => 'Author check 1',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อเสนอตีพิมพ์ นั้น
บัดนี้เรื่องของท่านผ่านเข้าสู่การจัด artwork เป็นที่เรียบร้อย
ขอได้โปรดตรวจสอบความถูกต้องเป็นครั้งสุดท้าย ก่อนจะเผยแพร่ผ่านทางเว็บไซต์
ท่านสามารถแก้ไขโดยทำเป็น comment มาในไฟล์ pdf  โปรด upload ไฟล์กลับมาในระบบภายใน 3 วัน หากเลยกำหนดนี้ไปแล้ว ขออนุญาตถือว่าท่านยอมรับในเนื้อหาทั้งหมด
ท่านสามารถกดที่ link ด้านล่างสุด
- เพื่อแจ้งเห็นชอบกับไฟล์ Artwork โดยการสร้างห้องสนทนาใหม่ (กดที่ปุ่ม start new discussion) แล้วพิมพ์ข้อความแสดงความเห็นด้วยใดๆก็ได้ ฟรือปล่อยเลยกำหนดไป 3 วัน โดยไม่ทำการใดๆเลยก็ได้เช่นกัน
- และ/หรือ upload ไฟล์ที่ขอแก้ไข โดยการสร้างห้องสนทนาใหม่ได้เช่นเดียวกัน 

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข'
  );

  $t[16] = array(
    'label' => 'Author check 2',
    'title' => '',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อเสนอตีพิมพ์ และวารสารฯได้ส่ง Artwork (PDF file) ให้ท่านตรวจสอบความถูกต้องเป็นครั้งสุดท้ายภายใน 3 วันนั้น
บัดนี้ วารสารฯยังไม่ได้รับการแจ้งขอแก้ไขจากท่าน จึงขอเตือนมาอีกครั้งหนึ่ง หากพ้นกำหนดดังกล่าว จะถือว่าท่านยอมรับรายละเอียดในเนื้อหาทั้งหมด
ท่านสามารถกดที่ link ด้านล่างสุด
- เพื่อแจ้งเห็นชอบกับไฟล์ Artwork โดยการสร้างห้องสนทนาใหม่ (กดที่ปุ่ม start new discussion) แล้วพิมพ์ข้อความแสดงความเห็นด้วยใดๆก็ได้ ฟรือปล่อยเลยกำหนดไปอีก 1 วัน โดยไม่ทำการใดๆเลยก็ได้เช่นกัน
- และ/หรือ upload ไฟล์ที่ขอแก้ไข โดยการสร้างห้องสนทนาใหม่ได้เช่นเดียวกัน 

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข'
  );

  $t[37] = array(
    'label' => 'Author check 2',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Editor approval of artwork
  // ===========================================================================

  $t[38] = array(
    'label' => 'Editor approval of artwork 1',
    'title' => '',
    'body' => 'เรียน บรรณาธิการ

ขณะนี้ บทความเรื่อง
@journal_id - @journal_title 
ได้เข้าสู่สถานะ Editor approval of artwork แล้ว
กรุณาคลิก link ด้านล่างสุด ไปยังหน้าต่อไป เพื่อพิจารณาความเรียบร้อยของบทความ รวมถึงภาพรวมของ artwork ทั้งหมด 
- กดที่ปุ่ม approve เพื่อยืนยันความเรียบร้อย
- หากต้องการขอให้ผู้ฝ่ายจัดการวารสารปรับปรุง ให้สร้างห้องสนทนาใหม่โดยกดที่ปุ่ม start new discussion หลังจากนั้นระบุสิ่งที่อยากให้ปรับแก้ลงในกล่องข้อความ details แล้วเลือกส่งหา administrator เท่านั้น
- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  $t[39] = array(
    'label' => 'Editor approval of artwork 2',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

วารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Document review → Proofreading
  // ===========================================================================

  $t[40] = array(
    'label' => 'Proofreading 1',
    'title' => '',
    'body' => 'เรียน ฝ่ายจัดการวารสาร

ขณะนี้ บทความเรื่อง 
@journal_id - @journal_title 
ได้เข้าสู่สถานะ Proofreading แล้ว รบกวนกรุณาตรวจสอบบทความด้วย 
กรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป

บรรณาธิการ',
    'color_code' => $lost
  );

  $t[41] = array(
    'label' => 'Proofreading 2',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );


  // ===========================================================================
  // Library catalogue
  // ===========================================================================
  $t[42] = array(
    'label' => 'Library catalogue 1',
    'title' => '',
    'body' => 'เรียน บรรณารักษ์

ขณะนี้ บทความเรื่อง 
@journal_id - @journal_title 
ได้เข้าสู่สถานะ Library catalogue แล้ว รบกวนกรุณาตรวจสอบและจัดการบทความด้วย
กรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป

ฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  $t[43] = array(
    'label' => 'Library catalogue 2',
    'title' => 'ขอปฏิเสธการตีพิมพ์',
    'body' => 'เรียน ผู้เขียน

ตามที่ท่านได้ส่งบทความเรื่อง
@journal_id - @journal_title 
มายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก

..... โปรดระบุ .....

ทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก

ฝ่ายบรรณารักษ์วารสารวิจัยระบบสาธารณสุข',
    'color_code' => $new
  );

  // ===========================================================================
  // Publication
  // ===========================================================================
  $t[17] = array(
    'label' => 'Publication 1',
    'title' => '',
    'body' => 'เรียน @receiver

ตามที่ท่านได้ส่งบทความมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์นั้น บัดนี้ บทความดังกล่าวได้รับการตีพิมพ์แล้ว ท่านสามารถ download บทความนี้ได้จากลิงค์ด้านล่าง ขอขอบคุณและหวังว่าโอกาสหน้าท่านจะเสนอบทความมายังวารสารฯอีก
@journal_id - @journal_title 
ท่านสามารถติดตามรายละเอียดเพิ่มเติมได้ที่: @information_link 

วารสารวิจัยระบบสาธารณสุข'
  );

  $t[44] = array(
    'label' => 'Publication 2',
    'title' => '',
    'body' => 'เรียน บรรณาธิการ และ ฝ่ายจัดการวารสาร
บทความเรื่อง
@journal_id - @journal_title
ได้เข้าสู่สถานะ Publication แล้ว (ได้ทำการตีพิมพ์เรียบร้อยแล้ว)
ท่านสามารถติดตามรายละเอียดเพิ่มเติมได้ที่: @information_link 

บรรณารักษ์',
    'color_code' => $new
  );

  foreach ($t as $tpid => $fields) {
    db_update('open_journal_template')
      ->condition('tpid', $tpid)
      ->fields($fields)
      ->execute();
  }

}


function open_journal_update_7048(&$sandbox) {
  db_query("UPDATE {open_journal_state} SET description = ''");

  /*
  +-----+--------------------+
  | rid | name               |
  +-----+--------------------+
  |   3 | administrator      |
  |   1 | anonymous user     |
  |   2 | authenticated user |
  |   8 | author             |
  |   4 | editor             |
  |   6 | librarian          |
  |   7 | manager            |
  |   5 | reviewer           |
  +-----+--------------------+
  */
  $states = array(
    0 => 3,
    4 => 4,
    1 => 3,
    6 => 8,
    101 => 8,
    102 => 8,
    7 => 4,
    8 => 3,
    9 => 4,
    10 => 3,
    11 => 8,
    12 => 4,
    13 => 3,
    2 => 6,
    3 => NULL

  );

  foreach ($states as $sid => $actor_rid) {
    db_update('open_journal_state')
      ->condition('sid', $sid)
      ->fields(array('actor_rid' => $actor_rid))
      ->execute();
  }
}

function open_journal_update_7049(&$sandbox) {
  db_query("DELETE tr FROM open_journal_template_role tr LEFT JOIN open_journal_template t ON tr.tpid = t.tpid WHERE t.name = 'reject' AND tr.rid <> 8;");
  db_update('open_journal_template')
    ->condition('tpid', 35)
    ->fields(array('name' => 'auto', 'sid' => 10))
    ->execute();
  db_insert('open_journal_template_role')
  ->fields(array('tpid' => 17, 'rid' => 1))
  ->execute();
}

function open_journal_update_7050(&$sandbox) {
  db_query("ALTER TABLE open_journal_template CHANGE tpid tpid INT(11)  NOT NULL  AUTO_INCREMENT, AUTO_INCREMENT = 300");
}


function open_journal_update_7051(&$sandbox) {


  db_query("DELETE FROM `open_journal_template`");
  db_query("INSERT INTO `open_journal_template` VALUES (1,0,'','เรียน ผู้เขียน \r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง \r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้รับบทความของท่านเรียบร้อยแล้ว\r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nThank you for your article,\r\n@journal_id - @journal_title_en,\r\nsubmitted to the Journal of Heath Systems Research for publication. \r\n\r\nPlease be informed that we have duly received your manuscript.\r\n\r\nJournal of Heath Systems Research','ขอบคุณที่ส่งบทความมาที่ สวรส.','auto',NULL,'','Info review 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (2,0,'','เรียน @receiver \r\n\r\nด้วย @author_name ได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ โดยมีท่านเป็นผู้เขียนร่วม ทางวารสารฯ ขอให้ท่านแจ้งยืนยันหรือปฏิเสธภายใน 3 วันโดยติดต่อกลับมาทางวารสาร (link ติดต่อด้านล่าง)\r\nและหากทางวารสารไม่ได้รับคำตอบจากท่านภายในกำหนดดังกล่าว จะขอถือว่าท่านเห็นด้วยกับการส่งบทความเพื่อเสนอตีพิมพ์กับทางวารสารฯ\r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear @receiver,\r\n\r\nRefer to the article,\r\n@journal_id - @journal_title_en,\r\nsubmitted to the Journal of Health Systems Research (JHSR) for publication by @author_name. \r\n\r\nAs your name is listed as one of the authors, the JHSR would like to request your confirmation/declination on the article submission. Please do so within 3 days by contact to JHSR (contact link on bottom). \r\n\r\nIf no response is received by the deadline, the JHSR will assume that you have no objection to the submission.\r\n\r\nJournal of Heath Systems Research','แจ้งว่ามีท่านเป็นผู้เขียนร่วมในวารสารฯ','auto',NULL,'','Info review 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (3,0,'ขอให้ผู้เขียนปรับแก้บทความ','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้\r\n\r\n..... โปรดระบุ .....\r\n\r\nโปรดดำเนินการภายใน 3 วัน\r\nเมื่อท่านปฏิบัติตามคำแนะนำแล้ว เราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your article,\r\n@journal_id - @journal_title_en,\r\nwhich has been submitted to the Journal of Health Systems Research for publication. In this initial stage, we would like to suggest the following improvements:\r\n\r\n..... Please fill in .....\r\n\r\nPlease improve and return the article within 3 days. \r\n\r\nWe could proceed with our reviewing process only upon receiving your improved article. We apologize for any inconvenience this may cause.\r\n\r\nThe JHSR editorial staff\r\n','ขอให้ท่านปรับแก้ไขบทความ','template',NULL,'','Info review 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (4,4,'','เรียน บรรณาธิการ\r\n\r\n@journal_id - @journal_title \r\nเปลี่ยนสถานะ จาก information review เป็น editor first view แล้ว \r\nกรุณาคลิก link ด้านล่าง ไปยังหน้าต่อไป เพื่อเลือกว่าจะตอบรับพิจารณาความเหมาะสมของบทความนี้ \r\n- กดที่ปุ่ม approve เพื่อยืนยันความเหมาะสม\r\n- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Editor,\r\n\r\n@journal_id - @journal_title_en,\r\nThis article has changed the status from “information review” to “editor first view”. Please click the link below to select “accept” or “reject” such article. If reject, please provide constructive reasons to inform the author.\r\n\r\nThank you,\r\n\r\nThe JHSR editorial staff','มีบทความใหม่มาให้พิจารณา','auto',NULL,'D7BDE2','Editor first 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (5,4,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\r\n\r\n..... โปรดระบุ .....\r\n\r\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your article,\r\n@journal_id - @journal_title_en,\r\nwhich was submitted to the Journal of Health Systems Research for publication. Please be informed that we have to withdraw the article from publication because:\r\n\r\n..... Please fill in .....\r\n\r\nThank you and look forward to hearing from you.\r\n\r\nJournal of Heath Systems Research','ขอปฏิเสธการตีพิมพ์','reject','button','','Editor first 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (6,4,'','เรียน ฝ่ายจัดการวารสาร\r\n@journal_id - @journal_title\r\nชื่อ reviewers คือ \r\n1………โปรดระบุ………….\r\n2………โปรดระบุ………….\r\n3………โปรดระบุ………….\r\n\r\nกรุณาคลิก link ด้านล่าง แล้วเข้าไปทีเมนู people เพื่อเลือก reviewer (ในกรณีที่มีอยู่แล้ว) หรือ สร้าง reviewer ใหม่ โดยกดที่ปุ่ม Add new reviewer (ในกรณีที่ยังไม่เคยมี)\r\n\r\nบรรณาธิการ\r\n\r\n--------------------------------------------\r\n\r\nDear the JHSR editorial staff,\r\n\r\n@journal_id - @journal_title_en\r\n\r\nName of peer reviewers:\r\n1………Please fill in………….\r\n2………Please fill in………….\r\n3………Please fill in………….','รบกวนท่าน เรียนเชิญผู้ทรงคุณวุฒิมาพิจารณาบทความ','approve','button','D7BDE2','Editor first 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (7,1,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯขอเรียนว่าบทความของท่านกำลังได้รับการพิจารณาโดยผู้ทรงคุณวุฒิ เมื่อทางวารสารฯรวบรวมความเห็นจากผู้ทรงคุณวุฒิเรียบร้อยแล้ว จะแจ้งผลให้ท่านทราบในโอกาสต่อไป\r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your article,\r\n@journal_id - @journal_title_en,\r\nwhich was submitted to the Journal of Health Systems Research for publication. Please be informed that the article is now under the assessment of our expert reviewers. Comments and feedback will be sent to you in due course.\r\n\r\nJournal of Health Systems Research','บทความของท่านกำลังได้รับพิจารณาโดยผู้ทรงคุณวุฒิ','auto',NULL,'','Reviewers alert')");
  db_query("INSERT INTO `open_journal_template` VALUES (8,6,'ขอให้ผู้เขียนปรับแก้บทความตามความเห็นของผู้ทรงคุณวุฒิ','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์นั้น บัดนี้ คณะผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้ว โดยมีความเห็นดังไฟล์ที่แนบ \r\nกรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายจากข้อความในไฟล์ MS Words ที่แนบนี้ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเขียนเพิ่มเติมด้วย โดยขอให้ส่งกลับมาทางระบบ e-journal ภายใน 30 วัน โดยนับวันที่ของข้อความนี้เป็นวันที่ 0\r\nจึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง \r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your article,\r\n@journal_id - @journal_title_en,\r\nwhich was submitted to the Journal of Health Systems Research for publication. \r\n\r\nAttached are comments and feedback from our expert reviewers (see attachment). Please return your improved article by sending it through JHSR e-journal system within 30 days from tomorrow. Kindly highlight all changes, revisions and additions to the manuscript and place the improved version at the end of the attached MS Words file. \r\n\r\nThank you for your cooperation and consideration.\r\n\r\nJournal of Health Systems Research','กรุณาปรับแก้ไขบทความตามความเห็นของผู้ทรงคุณวุฒิ','template',NULL,'','Revision alert 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (9,101,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์และทางวารสารฯได้แจ้งผลการพิจารณาบทความไปแล้วนั้น \r\nโปรดทราบว่าท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ\r\nหากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ท่านสามารถส่งข้อความขอเลื่อนกำหนดส่งไปได้อีก 30 วัน โดยท่านต้องคลิกที่ link ด้านล่างนี้เพื่อทำการขยายเวลา\r\nLink เพื่อไปคลิกขยายเวลา : @approve_by_timer_link\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your submitted article,\r\n@journal_id - @journal_title_en,\r\nwhich we have already informed you about our comment/suggestion for improvement. \r\n\r\nPlease be reminded that you have 7 days left to return your improved article. \r\n\r\nIf you are unable to finish it on time, you can extend the improvement period by 30 days. Please send a deadline extension request via JHSR e-journal system by the following link below within 5 days from tomorrow. \r\nLink to extend the improvement period : @approve_by_timer_link\r\n\r\nJournal of Health Systems Research','ท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ','time',NULL,'','Revision alert 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (10,102,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์และทางวารสารฯได้แจ้งผลการพิจารณาบทความไปแล้วนั้น \r\nโปรดทราบว่าท่านเหลือเวลาอีกเพียง 7 วันในการปรับแก้บทความ และไม่สามารถเลื่อนกำหนดส่งได้อีกแล้ว\r\nหากท่านไม่สามารถส่งบทความที่แก้ไขกลับมาได้ภายในกำหนด ระบบจะส่งข้อความปฏิเสธการตีพิมพ์โดยอัตโนมัติไปยังท่านในวันถัดจากวันครบกำหนด\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your submitted article,\r\n@journal_id - @journal_title_en,\r\nwhich we have already informed you about our comment/suggestion for revision. \r\n\r\nPlease be reminded that you have the final 7 days from tomorrow to improve your article. \r\n\r\n Journal of Health Systems Research','ท่านเหลือเวลาอีก 7 วันในการปรับแก้บทความ','time',NULL,'','Revision alert 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (11,101,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน \n\nตามที่ ท่านส่งบทความเรื่อง \n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น\nโปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์บทความของท่าน','reject',NULL,'AED6F1','Revision alert 5')");
  db_query("INSERT INTO `open_journal_template` VALUES (12,7,'','เรียน บรรณาธิการ\r\n\r\n@journal_id - @journal_title\r\nเปลี่ยนสถานะ จาก document review · revision เป็น document review · edit 1 แล้ว \r\nผู้ส่งบทความได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิและส่งกลับมาแล้ว\r\nกรุณาคลิก link ด้านล่างสุด ไปยังหน้าต่อไป เพื่อพิจารณาความถูกต้องของบทความนี้ \r\n- กดที่ปุ่ม approve เพื่อยืนยันความถูกต้อง\r\n- หากต้องการขอให้ผู้เขียนพิจารณาปรับแก้เพิ่มเติม ให้สร้างห้องสนทนาใหม่โดยกดที่ปุ่ม start new discussion แล้ว select template เป็น \"ขอให้ผู้เขียนพิจารณาปรับแก้เพิ่มเติม\" หลังจากนั้นระบุสิ่งที่อยากให้ปรับแก้ลงในกล่องข้อความ details ในส่วนของ ..... โปรดระบุ .....\r\n- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ผู้ส่งบทความได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิและส่งกลับมาแล้ว','auto',NULL,'AED6F1','Edit 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (14,9,'ขอให้ผู้เขียนปรับปรุง หรือทำส่วนใดให้ชัดเจนขึ้น (adjust)','เรียน ผู้เขียน\n\nตามที่ ท่านส่งบทความเรื่อง\n@journal_id - @journal_title\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นผู้ทรงคุณวุฒิบ้างแล้ว นั้น ผู้ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้\n\n..... โปรดระบุ .....\n\nโปรดดำเนินการแก้ไขแล้วส่งกลับมาทางระบบ e-journal ภายใน 7 วัน\n\nวารสารวิจัยระบบสาธารณสุข','รบกวนท่าน แก้ไขปรับปรุงบทความของท่าน','template',NULL,'F0E67A','Editor approval 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (15,11,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อเสนอตีพิมพ์ นั้น\r\nบัดนี้เรื่องของท่านผ่านเข้าสู่การจัด artwork เป็นที่เรียบร้อย\r\nขอได้โปรดตรวจสอบความถูกต้องเป็นครั้งสุดท้าย ก่อนจะเผยแพร่ผ่านทางเว็บไซต์\r\nท่านสามารถแก้ไขโดยทำเป็น comment มาในไฟล์ pdf  โปรด upload ไฟล์กลับมาในระบบภายใน 3 วัน หากเลยกำหนดนี้ไปแล้ว ขออนุญาตถือว่าท่านยอมรับในเนื้อหาทั้งหมด\r\nLink เพื่อ แจ้งเห็นชอบกับไฟล์ Artwork: @approve_by_timer_link\r\n\r\nหรือท่านสามารถกดที่ link ด้านล่างสุด เพื่อ upload ไฟล์ที่ขอแก้ไข โดยการสร้างห้องสนทนาใหม่ (กดที่ปุ่ม start new discussion) แล้วอัพโหลดไฟล์ที่ขอแก้ไขกลับเข้ามา\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your article,\r\n@journal_id - @journal_title_en,\r\nwhich was submitted to the Journal of Health Systems Research for publication. \r\n\r\nPlease be informed that your article is now ready to be published. \r\n\r\nKindly read and give us a final approval of the edited article before being published on our web site. For necessary corrections, write your comments directly in the PDF-format file. Please upload the file to our system within 3 days. If no response is received by the deadline, we would assume that you have no objection with the content and we will proceed the publication.\r\n\r\nJournal of Health Systems Research','บทความของท่านผ่านเข้าสู่การจัด Artwork แล้ว รบกวนตรวจสอบความถูกต้อง','auto',NULL,'D7BDE2','Author check 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (16,11,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อเสนอตีพิมพ์ และวารสารฯได้ส่ง Artwork (PDF file) ให้ท่านตรวจสอบความถูกต้องเป็นครั้งสุดท้ายภายใน 3 วันนั้น\r\nบัดนี้ วารสารฯยังไม่ได้รับการแจ้งขอแก้ไขจากท่าน จึงขอเตือนมาอีกครั้งหนึ่ง หากพ้นกำหนดดังกล่าว จะถือว่าท่านยอมรับรายละเอียดในเนื้อหาทั้งหมด\r\nLink เพื่อ แจ้งเห็นชอบกับไฟล์ Artwork: @approve_by_timer_link\r\n\r\nหรือท่านสามารถกดที่ link ด้านล่างสุด เพื่อ upload ไฟล์ที่ขอแก้ไข โดยการสร้างห้องสนทนาใหม่ (กดที่ปุ่ม start new discussion) แล้วอัพโหลดไฟล์ที่ขอแก้ไขกลับเข้ามา\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your article,\r\nadd ID – the article title,\r\nwhich was submitted to the Journal of Health Systems Research for publication and we had sent you the PDF file for final checking by yourself within 3 days. \r\n\r\nPlease be reminded that we are waiting for your final correction. If no response is received by the deadline, we would assume that you have no objection with the content and we will proceed the publication.\r\n\r\nJournal of Health Systems Research','รบกวนท่านผู้เขียนตรวจสอบความถูกต้องของ artwork เป็นครั้งสุดท้าย','time',NULL,'D7BDE2','Author check 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (17,3,'','เรียน @receiver\r\n\r\nตามที่ท่านได้ส่งบทความมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์นั้น บัดนี้ บทความดังกล่าวได้รับการตีพิมพ์แล้ว ท่านสามารถ download บทความนี้ได้จากลิงค์ด้านล่าง ขอขอบคุณและหวังว่าโอกาสหน้าท่านจะเสนอบทความมายังวารสารฯอีก\r\n\r\nบทความ: @journal_id - @journal_title \r\nท่านสามารถติดตามรายละเอียดเพิ่มเติมได้ที่: @information_link \r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear @receiver,\r\n\r\nRefer to your article submitted to the Journal of Health Systems Research for publication. Now the article has been duly published. You can download the article from the link below.\r\n\r\nThank you and look forward to hearing from you again soon.\r\n\r\nArticle: @journal_id - @journal_title_en\r\nClick for more information: @information_link\r\n\r\nJournal of Health Systems Research','ยินดีด้วย บทความของท่านได้ถูกตีพิมพ์แล้ว','auto',NULL,'','Publication 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (18,10,'','เรียน ฝ่ายจัดการวารสาร\n\nขณะนี้ บทความเรื่อง \n@journal_id - @journal_title \nได้เข้าสู่สถานะ Artwork แล้ว รบกวนกรุณาตรวจสอบบทความด้วย \nกรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป\n\nบรรณาธิการ','มีบทความเข้าสู่สถานะ Artwork','auto',NULL,'F0E67A','Artwork 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (19,0,'','เรียน ฝ่ายจัดการวารสาร\n\nเนื่องจาก ผู้เขียน ได้ส่งบทความใหม่เรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ รบกวนกรุณาตรวจสอบบทความด้วย กรุณาคลิก link ด้านล่างเพื่อดำเนินตามขั้นตอนถัดไป\n\nผู้เขียน','มีบทความใหม่เข้ามาใหม่','auto',NULL,'AED6F1','Info review 4')");
  db_query("INSERT INTO `open_journal_template` VALUES (23,0,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน \n\nตามที่ ท่านส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Info review 5')");
  db_query("INSERT INTO `open_journal_template` VALUES (25,4,'ขอให้ผู้เขียนปรับแก้บทความ','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ในเบื้องต้น ทางวารสารฯ ขอให้ท่านปรับแก้ ดังนี้\n\n..... โปรดระบุ .....\n\nโปรดดำเนินการภายใน 10 วัน\nเมื่อท่านปฏิบัติตามคำแนะนำแล้ว เราจึงจะส่งบทความเพื่อให้ผู้ทรงคุณวุฒิพิจารณา ขออภัยในความไม่สะดวกมา ณ ที่นี้ด้วย\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอให้ท่านปรับแก้ไขบทความ','template',NULL,'F0E67A','Editor first 4')");
  db_query("INSERT INTO `open_journal_template` VALUES (26,1,'ขอให้ผู้เขียนปรับแก้บทความตามความเห็นของผู้ทรงคุณวุฒิ','เรียน ผู้เขียน\n\nตามที่ ท่านส่งบทความเรื่อง\n@journal_id - @journal_title\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ นั้น บัดนี้ ผู้ทรงคุณวุฒิได้พิจารณาบทความดังกล่าวแล้วมีความเห็นดังไฟล์ที่แนบ กรุณานำบทความที่แก้ไขแล้ว มาเขียนต่อท้ายในไฟล์ที่แนบนี้เลยค่ะ อย่าลืมไฮไลท์ส่วนที่ปรับแก้และเพิ่มเติมด้วย โดยขอให้ส่งกลับมาภายใน 30 วัน\nจึงเรียนมาเพื่อโปรดพิจารณาแก้ไขและส่งบทความกลับมาภายในกำหนดเวลาด้วย จะขอบคุณยิ่ง\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','กรุณาปรับแก้ไขบทความตามความเห็นของผู้ทรงคุณวุฒิ','approve','button','F0E67A','Reviewers alert 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (27,1,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน \n\nตามที่ ท่านส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Reviewers alert 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (28,6,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน \n\nตามที่ ท่านส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Reviewers alert 8')");
  db_query("INSERT INTO `open_journal_template` VALUES (29,7,'ขอให้ผู้เขียนพิจารณาปรับแก้เพิ่มเติม','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title\r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ และท่านได้ปรับแก้ตามความเห็นของผู้ทรงคุณวุฒิไปบ้างแล้วนั้น ผู้ทรงคุณวุฒิที่ตรวจการแก้ไข ขอให้ท่านพิจารณาปรับแก้เพิ่มเติม ดังนี้\r\n\r\n..... โปรดระบุ .....\r\n\r\nโปรดดำเนินการแก้ไขแล้วส่งกลับมาทางระบบ e-journal ภายใน 7 วัน\r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your submitted article,\r\nadd ID – the article title,\r\nwhich you have already improved as suggested by our expert reviewers. The JHSR editorial member, however, would like to request the additional improvement as follows:\r\n\r\n..... Please fill in .....\r\n\r\nPlease complete the improvement within 7 days. \r\n\r\nJournal of Health Systems Research ','ขอให้ท่านผู้ส่งบทความพิจารณาปรับแก้เพิ่มเติม','template',NULL,'','Edit 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (30,7,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Edit 4')");
  db_query("INSERT INTO `open_journal_template` VALUES (31,8,'','เรียน ฝ่ายจัดการวารสาร\n\nขณะนี้ บทความเรื่อง \n@journal_id - @journal_title \nได้เข้าสู่สถานะ Edit 2 (การชำระนิพนธ์ต้นฉบับ) แล้ว รบกวนกรุณาตรวจสอบบทความด้วย \nกรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป\n\nบรรณาธิการ','มีบทความเข้าสู่สถานะ Edit 2 (การชำระนิพนธ์ต้นฉบับ)','auto',NULL,'AED6F1','Edit 5')");
  db_query("INSERT INTO `open_journal_template` VALUES (32,8,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Edit 6')");
  db_query("INSERT INTO `open_journal_template` VALUES (33,9,'','เรียน บรรณาธิการ\r\n\r\nขณะนี้ บทความเรื่อง\r\n@journal_id - @journal_title \r\nได้เข้าสู่สถานะ Editor approval (MS Words) แล้ว\r\nกรุณาคลิก link ด้านล่างสุด ไปยังหน้าต่อไป เพื่อพิจารณาความถูกต้องของบทความนี้ \r\n- กดที่ปุ่ม approve เพื่อยืนยันความถูกต้อง\r\n- หากต้องการขอให้ผู้เขียนให้ผู้เขียนปรับปรุง หรือทำส่วนใดให้ชัดเจนขึ้น (adjust) ให้สร้างห้องสนทนาใหม่โดยกดที่ปุ่ม start new discussion แล้ว select template เป็น \"ขอให้ผู้เขียนปรับปรุง หรือทำส่วนใดให้ชัดเจนขึ้น (adjust)\" หลังจากนั้นระบุสิ่งที่อยากให้ปรับแก้ลงในกล่องข้อความ details ในส่วนของ ..... โปรดระบุ .....\r\n- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Editor,\r\n\r\nRefer to submitted article\r\n@journal_id - @journal_title_en\r\nThe article has been edited.  Please follow the link at your earliest convenience and click “approve” to send the article to the publishing house, or click “adjust” and fill in the dialog box to send a message to the author if any additional clarification/correction is needed.\r\n\r\nThe JHSR editorial staff','มีบทความเข้าสู่สถานะ Editor approval','auto',NULL,'D7BDE2','Editor approval 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (34,9,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Editor approval 4')");
  db_query("INSERT INTO `open_journal_template` VALUES (35,10,'','เรียน ผู้เขียน\r\n\r\nตามที่ ท่านส่งบทความเรื่อง\r\n@journal_id - @journal_title\r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ และท่านได้ปรับแก้บทความกลับมาแล้ว นั้น\r\nโปรดทราบว่า ขณะนี้ บรรณาธิการได้ให้ความเห็นชอบการปรับแก้บทความของท่านก่อนการจัด artwork แล้ว \r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your submitted article,\r\n@journal_id - @journal_title_en,\r\nwhich you have duly made necessary improvements as suggested. Please be informed that your improved article is approved and now under the pre-press process.\r\n\r\nJournal of Health Systems Research','บรรณาธิการได้ให้ความเห็นชอบกับบทความของท่านแล้ว','auto',NULL,'','Editor approval 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (36,10,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Artwork 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (37,11,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\r\n\r\n..... โปรดระบุ .....\r\n\r\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Author check 3')");
  db_query("INSERT INTO `open_journal_template` VALUES (38,12,'','เรียน บรรณาธิการ\n\nขณะนี้ บทความเรื่อง\n@journal_id - @journal_title \nได้เข้าสู่สถานะ Editor approval of artwork แล้ว\nกรุณาคลิก link ด้านล่างสุด ไปยังหน้าต่อไป เพื่อพิจารณาความเรียบร้อยของบทความ รวมถึงภาพรวมของ artwork ทั้งหมด \n- กดที่ปุ่ม approve เพื่อยืนยันความเรียบร้อย\n- หากต้องการขอให้ผู้ฝ่ายจัดการวารสารปรับปรุง ให้สร้างห้องสนทนาใหม่โดยกดที่ปุ่ม start new discussion หลังจากนั้นระบุสิ่งที่อยากให้ปรับแก้ลงในกล่องข้อความ details แล้วเลือกส่งหา administrator เท่านั้น\n- กดที่ปุ่ม reject เพื่อปฏิเสธ และหากปฏิเสธ ขอความกรุณากรอกเหตุผล เพื่อแจ้งผู้เขียนด้วย จะขอบพระคุณยิ่ง\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','มีบทความเข้าสู่สถานะ Editor approval of artwork','auto',NULL,'AED6F1','Editor approval of artwork 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (39,12,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Editor approval of artwork 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (40,13,'','เรียน ฝ่ายจัดการวารสาร\n\nขณะนี้ บทความเรื่อง \n@journal_id - @journal_title \nได้เข้าสู่สถานะ Proofreading แล้ว รบกวนกรุณาตรวจสอบบทความด้วย \nกรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป\n\nบรรณาธิการ','มีบทความเข้าสู่สถานะ Proofreading','auto',NULL,'F0E67A','Proofreading 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (41,13,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title \r\nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\r\n\r\n..... โปรดระบุ .....\r\n\r\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\r\n\r\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Proofreading 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (42,2,'','เรียน บรรณารักษ์\n\nขณะนี้ บทความเรื่อง \n@journal_id - @journal_title \nได้เข้าสู่สถานะ Library catalogue แล้ว รบกวนกรุณาตรวจสอบและจัดการบทความด้วย\nกรุณาคลิก link ด้านล่างสุดเพื่อดำเนินตามขั้นตอนถัดไป\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','มีบทความเข้าสู่สถานะ Library catalogue','auto',NULL,'AED6F1','Library catalogue 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (43,2,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน\n\nตามที่ท่านได้ส่งบทความเรื่อง\n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อการตีพิมพ์ ทางวารสารฯ ขอปฏิเสธการตีพิมพ์เนื่องจาก\n\n..... โปรดระบุ .....\n\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายบรรณารักษ์วารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์','reject',NULL,'AED6F1','Library catalogue 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (44,3,'','เรียน บรรณาธิการ และ ฝ่ายจัดการวารสาร\nบทความเรื่อง\n@journal_id - @journal_title\nได้เข้าสู่สถานะ Publication แล้ว (ได้ทำการตีพิมพ์เรียบร้อยแล้ว)\nท่านสามารถติดตามรายละเอียดเพิ่มเติมได้ที่: @information_link \n\nบรรณารักษ์','มีบทความเข้าสู่สถานะ Publication','auto',NULL,'AED6F1','Publication 2')");
  db_query("INSERT INTO `open_journal_template` VALUES (200,102,'ขอปฏิเสธการตีพิมพ์','เรียน ผู้เขียน \n\nตามที่ ท่านส่งบทความเรื่อง \n@journal_id - @journal_title \nมายังวารสารวิจัยระบบสาธารณสุขเพื่อรับการตีพิมพ์และ ทางวารสารฯ ได้แจ้งผลการพิจารณาบทความไปแล้ว นั้น\nโปรดทราบว่า เราจำเป็นต้องปฏิเสธการตีพิมพ์เนื่องจากท่านมิได้ส่งบทความที่แก้ไขกลับมาภายในกำหนด หากท่านประสงค์จะส่งบทความที่แก้ไขกลับมาให้ทางวารสารฯ พิจารณาอีกครั้ง กรุณา submit เข้ามาใหม่ โดยใส่ “resubmit” หน้าชื่อเรื่องด้วย\nทางวารสารฯ ขอขอบคุณ และหวังว่า โอกาสหน้าคงได้รับการติดต่อจากท่านอีก\n\nฝ่ายจัดการวารสารวิจัยระบบสาธารณสุข','ขอปฏิเสธการตีพิมพ์บทความของท่าน','reject',NULL,'AED6F1','Revision alert 7')");
  db_query("INSERT INTO `open_journal_template` VALUES (343,7,'','เรียน ผู้เขียน\r\n\r\nตามที่ท่านได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title\r\nทางวารสารวิจัยระบบสาธารณสุขได้รับบทความที่ท่านแก้ไขตามความเห็นของคณะผู้ทรงคุณวุฒิกลับมาแล้ว ผู้ทรงคุณวุฒิจะตรวจบทความที่แก้ไขแล้วนี้ หากยังต้องมีการปรับแก้เพิ่มเติม ทางวารสารฯจะแจ้งให้ท่านทราบในโอกาสต่อไป\r\n\r\nวารสารวิจัยระบบสาธารณสุข\r\n\r\n--------------------------------------------\r\n\r\nDear Author,\r\n\r\nRefer to your submitted article,\r\n@journal_id - @journal_title_en,\r\nwhich you have already improved as suggested by our expert reviewers. The JHSR editorial member will check it later. You would be informed if there are any additional suggestions.\r\n\r\nJournal of Health Systems Research','ขอขอบคุณที่ท่านผู้เขียน ที่ส่งบทความแก้ไขแล้วตามความเห็นของคณะผู้ทรงคุณวุฒิกลับมา','auto',NULL,'','Edit 1')");
  db_query("INSERT INTO `open_journal_template` VALUES (344,11,'','เรียน ฝ่ายจัดการวารสาร\r\n\r\nเนื่องจาก ผู้เขียน ที่ได้ส่งบทความเรื่อง\r\n@journal_id - @journal_title\r\nและเข้าสู่สถานะ Document review · Author check แล้ว แต่ท่านผู้เขียนไม่ได้กด link เพื่อ แจ้งเห็นชอบกับไฟล์ Artwork ใดๆ\r\nซึ่งขณะนี้จะครบกำหนดระยะเวลาในวันพรุ่งนี้แล้ว ซึ่งทางระบบได้ส่งข้อความแจ้งเตือนไปยังผู้เขียนให้แล้ว \r\n\r\nรบกวนท่านยืนยันเพื่อเปลี่ยนสถานะบทความเป็น Document review · Editor approval of artwork ด้วยตัวเอง หากผู้เขียนไม่กด link ด้วยตัวเองในวันพรุ่งนี้\r\n\r\nจากระบบแจ้งเตือนอัตโนมัติ','แจ้งเตือนผู้เขียนไม่กด link เพื่อ แจ้งเห็นชอบกับไฟล์ Artwork','time',NULL,'AED6F1','Author check 4')");

  db_query("DELETE FROM `open_journal_template_role`");
  db_query("INSERT INTO `open_journal_template_role` VALUES (10,8,11)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (12,8,14)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (16,3,18)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (17,3,19)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (18,8,23)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (19,8,25)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (20,8,26)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (21,8,27)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (24,8,28)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (27,8,29)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (30,8,30)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (31,3,31)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (34,8,32)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (38,8,34)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (39,8,35)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (42,8,36)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (46,4,38)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (49,8,39)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (50,3,40)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (54,6,42)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (57,8,43)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (59,3,44)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (60,4,44)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (61,8,200)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (80,4,12)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (93,8,5)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (95,1,2)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (96,8,1)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (97,8,3)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (98,4,4)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (99,3,6)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (100,8,7)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (101,8,8)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (102,8,9)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (104,8,10)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (112,8,343)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (113,4,33)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (116,1,17)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (117,8,17)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (118,8,37)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (119,8,41)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (120,8,15)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (122,8,16)");
  db_query("INSERT INTO `open_journal_template_role` VALUES (124,3,344)");


}


function open_journal_update_7052(&$sandbox) {
  db_query("UPDATE {open_journal_state} SET timeout_auto_approve = 3, timeout_auto_reminder = 2 WHERE sid = 11");
}



function open_journal_update_7053(&$sandbox) {
  db_query("INSERT INTO open_journal_journal_state (jid, sid, start_date, end_date) SELECT j.jid, j.sid, j.status_changed, IF(j.sid = 3, j.status_changed, NULL) FROM open_journal_journal j LEFT JOIN open_journal_journal_state js ON j.jid = js.jid WHERE js.jid IS NULL");
}

